(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{30347:()=>{},35839:(e,t,l)=>{"use strict";l.a(e,async(e,a)=>{try{l.d(t,{WalletProvider:()=>d,v:()=>u});var o=l(95155),n=l(12115),r=l(40014),c=e([r]);r=(c.then?(await c)():c)[0];let i="connectedWalletName",s=(0,n.createContext)(void 0),d=e=>{let{children:t}=e,[l,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,v]=(0,n.useState)(null),[w,f]=(0,n.useState)(!1),[m,b]=(0,n.useState)(!0),[h,_]=(0,n.useState)(null),[y,S]=(0,n.useState)([]),[p,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{b(!0),_(null);try{let e="mainnetVbjVldxKBO4c6U4z5IB6s7hivqfNQ9n7";if(!e)throw Error("NEXT_PUBLIC_BLOCKFROST_API_KEY not set.");let t=await r.yN.new(new r.OC("https://cardano-mainnet.blockfrost.io/api/v0",e),"Mainnet");a(t);let l=[];window.cardano&&Object.keys(window.cardano).forEach(e=>{var t,a;window.cardano&&"function"==typeof(null===(t=window.cardano[e])||void 0===t?void 0:t.enable)&&(null===(a=window.cardano[e])||void 0===a?void 0:a.apiVersion)&&l.push(e)}),S(l),console.log("Available wallets:",l);let o=localStorage.getItem(i);o&&l.includes(o)?(console.log("Found last connected wallet in storage: ".concat(o)),g(o)):(g(null),localStorage.removeItem(i))}catch(e){console.error("Initialization error:",e),_("Failed to initialize connection. Please refresh."),localStorage.removeItem(i)}finally{b(!1)}})()},[]);let P=(0,n.useCallback)(async e=>{var t;if(!l||!(null===(t=window.cardano)||void 0===t?void 0:t[e]))return _("Lucid not initialized or wallet '".concat(e,"' not found.")),Promise.reject(Error("Wallet '".concat(e,"' not found.")));b(!0),_(null);try{let t=window.cardano[e];if(!t||"function"!=typeof t.enable)throw Error("Wallet API or enable function for '".concat(e,"' not found."));let a=await t.enable();l.selectWallet(a);let o=await l.wallet.address();d(a),v(o),f(!0),g(e),localStorage.setItem(i,e),console.log("Connected to ".concat(e,", Address: ").concat(o))}catch(l){console.error("Failed to connect to ".concat(e,":"),l);let t=l instanceof Error?l.message:String(l);throw _("Failed to connect wallet: ".concat(t)),f(!1),d(null),v(null),g(null),localStorage.removeItem(i),l}finally{b(!1)}},[l]),E=(0,n.useCallback)(()=>{d(null),v(null),f(!1),g(null),localStorage.removeItem(i),console.log("Wallet disconnected.")},[]);return(0,o.jsx)(s.Provider,{value:{lucid:l,walletApi:c,address:u,isConnected:w,isLoading:m,error:h,availableWallets:y,lastConnectedWallet:p,connectWallet:P,disconnectWallet:E},children:t})},u=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e};a()}catch(e){a(e)}})},66039:e=>{e.exports={style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"},className:"__className_8f1ac1",variable:"__variable_8f1ac1"}},70093:e=>{e.exports={style:{fontFamily:"'Orbitron', 'Orbitron Fallback'",fontStyle:"normal"},className:"__className_23a2c6",variable:"__variable_23a2c6"}},88887:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,66039,23)),Promise.resolve().then(l.t.bind(l,70093,23)),Promise.resolve().then(l.t.bind(l,30347,23)),Promise.resolve().then(l.bind(l,35839))}},e=>{var t=t=>e(e.s=t);e.O(0,[836,14,441,684,358],()=>t(88887)),_N_E=e.O()}]);