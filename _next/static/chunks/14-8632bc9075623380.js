(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{1945:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Aq:()=>n.Aq,JF:()=>n.JF,KN:()=>a.K,Kk:()=>n.Kk,TZ:()=>n.TZ,V$:()=>n.V$,Wh:()=>n.Wh,a6:()=>a.a,aD:()=>n.aD,bM:()=>n.bM,dK:()=>n.dK,dd:()=>n.dd,kM:()=>n.kM,nj:()=>n.nj,vV:()=>n.vV});var a=r(70140),n=r(67960),i=r(44086),o=e([a,n,i]);[a,n,i]=o.then?(await o)():o,s()}catch(e){s(e)}})},4784:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});let s=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];function a(e,t=0){let r=~~t;for(let t=0;t<e.length;t++)r=255&s[(r^e[t])&255];return r}"undefined"!=typeof Int32Array&&(s=new Int32Array(s))},5009:(e,t,r)=>{"use strict";let s=r(96022),a=r(10583),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),s=i(r),a=s.write(e,t);return a!==r&&(s=s.slice(0,a)),s}(e,t);if(ArrayBuffer.isView(e))return function(e){if(N(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(N(e,ArrayBuffer)||e&&N(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(N(e,SharedArrayBuffer)||e&&N(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return o.from(s,t,r);let a=function(e){if(o.isBuffer(e)){let t=0|f(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),i(e<0?0:0|f(e))}function h(e){let t=e.length<0?0:0|f(e.length),r=i(t);for(let s=0;s<t;s+=1)r[s]=255&e[s];return r}function d(e,t,r){let s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),s}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||N(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(a)return s?-1:j(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,r){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);let a="";for(let s=t;s<r;++s)a+=R[e[s]];return a}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let s="";r=Math.min(e.length,r);for(let a=t;a<r;++a)s+=String.fromCharCode(127&e[a]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){let s="";r=Math.min(e.length,r);for(let a=t;a<r;++a)s+=String.fromCharCode(e[a]);return s}(this,t,r);case"base64":var n,i,o;return n=this,i=t,o=r,0===i&&o===n.length?s.fromByteArray(n):s.fromByteArray(n.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let s=e.slice(t,r),a="";for(let e=0;e<s.length-1;e+=2)a+=String.fromCharCode(s[e]+256*s[e+1]);return a}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){let s=e[t];e[t]=e[r],e[r]=s}function y(e,t,r,s,a){var n;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(n=r*=1)!=n&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return -1;r=e.length-1}else if(r<0){if(!a)return -1;r=0}if("string"==typeof t&&(t=o.from(t,s)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,s,a);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,s,a);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,s,a){let n,i=1,o=e.length,u=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;i=2,o/=2,u/=2,r/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){let s=-1;for(n=r;n<o;n++)if(l(e,n)===l(t,-1===s?0:n-s)){if(-1===s&&(s=n),n-s+1===u)return s*i}else -1!==s&&(n-=n-s),s=-1}else for(r+u>o&&(r=o-u),n=r;n>=0;n--){let r=!0;for(let s=0;s<u;s++)if(l(e,n+s)!==l(t,s)){r=!1;break}if(r)return n}return -1}function w(e,t,r){r=Math.min(e.length,r);let s=[],a=t;for(;a<r;){let t=e[a],n=null,i=t>239?4:t>223?3:t>191?2:1;if(a+i<=r){let r,s,o,u;switch(i){case 1:t<128&&(n=t);break;case 2:(192&(r=e[a+1]))==128&&(u=(31&t)<<6|63&r)>127&&(n=u);break;case 3:r=e[a+1],s=e[a+2],(192&r)==128&&(192&s)==128&&(u=(15&t)<<12|(63&r)<<6|63&s)>2047&&(u<55296||u>57343)&&(n=u);break;case 4:r=e[a+1],s=e[a+2],o=e[a+3],(192&r)==128&&(192&s)==128&&(192&o)==128&&(u=(15&t)<<18|(63&r)<<12|(63&s)<<6|63&o)>65535&&u<1114112&&(n=u)}}null===n?(n=65533,i=1):n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n),a+=i}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",s=0;for(;s<t;)r+=String.fromCharCode.apply(String,e.slice(s,s+=4096));return r}(s)}function _(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,s,a,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function C(e,t,r,s,a){O(t,s,a,e,r,7);let n=Number(t&BigInt(0xffffffff));e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n;let i=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,r}function x(e,t,r,s,a){O(t,s,a,e,r,7);let n=Number(t&BigInt(0xffffffff));e[r+7]=n,n>>=8,e[r+6]=n,n>>=8,e[r+5]=n,n>>=8,e[r+4]=n;let i=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=i,i>>=8,e[r+2]=i,i>>=8,e[r+1]=i,i>>=8,e[r]=i,r+8}function k(e,t,r,s,a,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,s,n){return t*=1,r>>>=0,n||k(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,s,23,4),r+4}function E(e,t,r,s,n){return t*=1,r>>>=0,n||k(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,s,52,8),r+8}t.hp=o,t.IS=50,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(l(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(N(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),N(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,s=t.length;for(let a=0,n=Math.min(r,s);a<n;++a)if(e[a]!==t[a]){r=e[a],s=t[a];break}return r<s?-1:+(s<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let s=o.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){let t=e[r];if(N(t,Uint8Array))a+t.length>s.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(s,a)):Uint8Array.prototype.set.call(s,t,a);else if(o.isBuffer(t))t.copy(s,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=t.length}return s},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,s,a){if(N(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===a&&(a=this.length),t<0||r>e.length||s<0||a>this.length)throw RangeError("out of range index");if(s>=a&&t>=r)return 0;if(s>=a)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,a>>>=0,this===e)return 0;let n=a-s,i=r-t,u=Math.min(n,i),l=this.slice(s,a),c=e.slice(t,r);for(let e=0;e<u;++e)if(l[e]!==c[e]){n=l[e],i=c[e];break}return n<i?-1:+(i<n)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,s){var a,n,i,o,u,l,c,h;if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let f=!1;for(;;)switch(s){case"hex":return function(e,t,r,s){let a;r=Number(r)||0;let n=e.length-r;s?(s=Number(s))>n&&(s=n):s=n;let i=t.length;for(s>i/2&&(s=i/2),a=0;a<s;++a){var o;let s=parseInt(t.substr(2*a,2),16);if((o=s)!=o)break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return a=t,n=r,M(j(e,this.length-a),this,a,n);case"ascii":case"latin1":case"binary":return i=t,o=r,M(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,i,o);case"base64":return u=t,l=r,M(D(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,M(function(e,t){let r,s;let a=[];for(let n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,a.push(r%256),a.push(s);return a}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let s=this[e],a=1,n=0;for(;++n<t&&(a*=256);)s+=this[e+n]*a;return s},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let s=this[e+--t],a=1;for(;t>0&&(a*=256);)s+=this[e+--t]*a;return s},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=H(function(e){A(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let s=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],a=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(s)+(BigInt(a)<<BigInt(32))}),o.prototype.readBigUInt64BE=H(function(e){A(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&U(e,this.length-8);let s=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],a=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(s)<<BigInt(32))+BigInt(a)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let s=this[e],a=1,n=0;for(;++n<t&&(a*=256);)s+=this[e+n]*a;return s>=(a*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let s=t,a=1,n=this[e+--s];for(;s>0&&(a*=256);)n+=this[e+--s]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readInt8=function(e,t){return(e>>>=0,t||_(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=H(function(e){A(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&U(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=H(function(e){A(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&U(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),a.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),a.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),a.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),a.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){let s=Math.pow(2,8*r)-1;v(this,e,t,r,s,0)}let a=1,n=0;for(this[t]=255&e;++n<r&&(a*=256);)this[t+n]=e/a&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){let s=Math.pow(2,8*r)-1;v(this,e,t,r,s,0)}let a=r-1,n=1;for(this[t+a]=255&e;--a>=0&&(n*=256);)this[t+a]=e/n&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=H(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=H(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,s){if(e*=1,t>>>=0,!s){let s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}let a=0,n=1,i=0;for(this[t]=255&e;++a<r&&(n*=256);)e<0&&0===i&&0!==this[t+a-1]&&(i=1),this[t+a]=(e/n>>0)-i&255;return t+r},o.prototype.writeIntBE=function(e,t,r,s){if(e*=1,t>>>=0,!s){let s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}let a=r-1,n=1,i=0;for(this[t+a]=255&e;--a>=0&&(n*=256);)e<0&&0===i&&0!==this[t+a+1]&&(i=1),this[t+a]=(e/n>>0)-i&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=H(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=H(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,s){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);let a=s-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,s):Uint8Array.prototype.set.call(e,this.subarray(r,s),t),a},o.prototype.fill=function(e,t,r,s){let a;if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){let t=e.charCodeAt(0);("utf8"===s&&t<128||"latin1"===s)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{let n=o.isBuffer(e)?e:o.from(e,s),i=n.length;if(0===i)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=n[a%i]}return this};let B={};function I(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function T(e){let t="",r=e.length,s=+("-"===e[0]);for(;r>=s+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,s,a,n){if(e>r||e<t){let s;let a="bigint"==typeof t?"n":"";throw s=n>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${(n+1)*8}${a}`:`>= -(2${a} ** ${(n+1)*8-1}${a}) and < 2 ** ${(n+1)*8-1}${a}`:`>= ${t}${a} and <= ${r}${a}`,new B.ERR_OUT_OF_RANGE("value",s,e)}A(a,"offset"),(void 0===s[a]||void 0===s[a+n])&&U(a,s.length-(n+1))}function A(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function U(e,t,r){if(Math.floor(e)!==e)throw A(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),I("ERR_OUT_OF_RANGE",function(e,t,r){let s=`The value of "${e}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?a=T(String(r)):"bigint"==typeof r&&(a=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(a=T(a)),a+="n"),s+=` It must be ${t}. Received ${a}`},RangeError);let P=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;let s=e.length,a=null,n=[];for(let i=0;i<s;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319||i+1===s){(t-=3)>-1&&n.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&n.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function D(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,s){let a;for(a=0;a<s&&!(a+r>=t.length)&&!(a>=e.length);++a)t[a+r]=e[a];return a}function N(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let R=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let s=16*r;for(let a=0;a<16;++a)t[s+a]=e[r]+e[a]}return t}();function H(e){return"undefined"==typeof BigInt?$:e}function $(){throw Error("BigInt not supported")}},5792:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{E:()=>i,y:()=>o});var a=r(65279),n=e([a]);function i(e,t,r){let s=a.M.HeaderMap.new();s.set_algorithm_id(a.M.Label.from_algorithm_id(a.M.AlgorithmId.EdDSA)),s.set_header(a.M.Label.new_text("address"),a.M.CBORValue.new_bytes((0,a.aD)(e)));let n=a.M.ProtectedHeaderMap.new(s),i=a.M.HeaderMap.new(),o=a.M.Headers.new(n,i),u=a.M.COSESign1Builder.new(o,(0,a.aD)(t),!1),l=u.make_data_to_sign().to_bytes(),c=a.C.PrivateKey.from_bech32(r),h=c.sign(l).to_bytes(),d=u.build(h),f=a.M.COSEKey.new(a.M.Label.from_key_type(a.M.KeyType.OKP));return f.set_algorithm_id(a.M.Label.from_algorithm_id(a.M.AlgorithmId.EdDSA)),f.set_header(a.M.Label.new_int(a.M.Int.new_negative(a.M.BigNum.from_str("1"))),a.M.CBORValue.new_int(a.M.Int.new_i32(6))),f.set_header(a.M.Label.new_int(a.M.Int.new_negative(a.M.BigNum.from_str("2"))),a.M.CBORValue.new_bytes(c.to_public().as_bytes())),{signature:(0,a.nj)(d.to_bytes()),key:(0,a.nj)(f.to_bytes())}}function o(e,t,r,s){let n=a.M.COSESign1.from_bytes((0,a.aD)(s.signature)),i=a.M.COSEKey.from_bytes((0,a.aD)(s.key)),o=n.headers().protected().deserialized_headers(),u=(()=>{try{return(0,a.nj)(o.header(a.M.Label.new_text("address"))?.as_bytes())}catch(e){throw Error("No address found in signature.")}})(),l=(()=>{try{let e=o.algorithm_id()?.as_int();if(e?.is_positive())return parseInt(e.as_positive()?.to_str());return parseInt(e?.as_negative()?.to_str())}catch(e){throw Error("Failed to retrieve Algorithm Id.")}})(),c=(()=>{try{let e=i.algorithm_id()?.as_int();if(e?.is_positive())return parseInt(e.as_positive()?.to_str());return parseInt(e?.as_negative()?.to_str())}catch(e){throw Error("Failed to retrieve Algorithm Id.")}})(),h=(()=>{try{let e=i.header(a.M.Label.new_int(a.M.Int.new_negative(a.M.BigNum.from_str("1"))))?.as_int();if(e?.is_positive())return parseInt(e.as_positive()?.to_str());return parseInt(e?.as_negative()?.to_str())}catch(e){throw Error("Failed to retrieve Curve.")}})(),d=(()=>{try{let e=i.key_type().as_int();if(e?.is_positive())return parseInt(e.as_positive()?.to_str());return parseInt(e?.as_negative()?.to_str())}catch(e){throw Error("Failed to retrieve Key Type.")}})(),f=(()=>{try{return a.C.PublicKey.from_bytes(i.header(a.M.Label.new_int(a.M.Int.new_negative(a.M.BigNum.from_str("2"))))?.as_bytes())}catch(e){throw Error("No public key found.")}})(),p=(()=>{try{return(0,a.nj)(n.payload())}catch(e){throw Error("No payload found.")}})(),m=a.C.Ed25519Signature.from_bytes(n.signature()),g=n.signed_data(void 0,void 0).to_bytes();return u===e&&t===f.hash().to_hex()&&(l===c||l===a.M.AlgorithmId.EdDSA)&&6===h&&1===d&&p===r&&f.verify(g,m)}a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},6652:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{C:()=>i,M:()=>o});var a=r(5009).hp;let e=globalThis?.process?.versions?.node;if(e){"undefined"==typeof btoa&&(globalThis.btoa=function(e){return a.from(e,"binary").toString("base64")},globalThis.atob=function(e){return a.from(e,"base64").toString("binary")});let e=await import("node-fetch"),{Crypto:t}=await import("@peculiar/webcrypto"),{WebSocket:r}=await import("ws"),s=await import("fs");globalThis.WebSocket||(globalThis.WebSocket=r),globalThis.crypto||(globalThis.crypto=new t),globalThis.fetch||(globalThis.fetch=e.default),globalThis.Headers||(globalThis.Headers=e.Headers),globalThis.Request||(globalThis.Request=e.Request),globalThis.Response||(globalThis.Response=e.Response),globalThis.fs||(globalThis.fs=s)}let i=await (async()=>{try{if(e)return await import("./libs/cardano_multiplatform_lib/nodejs/cardano_multiplatform_lib.generated.js");return await Promise.all([r.e(614),r.e(385)]).then(r.bind(r,16252))}catch(e){return null}})(),o=await (async()=>{try{if(e)return await import("./libs/cardano_message_signing/nodejs/cardano_message_signing.generated.js");return await Promise.all([r.e(956),r.e(607)]).then(r.bind(r,71956))}catch(e){return null}})();if(!e){async function n(e){try{await e.instantiate()}catch(e){}}await Promise.all([n(i),n(o)])}s()}catch(e){s(e)}},1)},8562:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{var s=r(82061),a=r(1945),n=r(8650),i=e([s,a]);[s,a]=i.then?(await i)():i,n.A.version,t()}catch(e){t(e)}})},8650:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={name:"lucid-cardano",version:"0.10.11",license:"MIT",author:"Alessandro Konrad",description:"Lucid is a library, which allows you to create Cardano transactions and off-chain code for your Plutus contracts in JavaScript, Deno and Node.js.",repository:"https://github.com/spacebudz/lucid"}},10583:(e,t)=>{t.read=function(e,t,r,s,a){var n,i,o=8*a-s-1,u=(1<<o)-1,l=u>>1,c=-7,h=r?a-1:0,d=r?-1:1,f=e[t+h];for(h+=d,n=f&(1<<-c)-1,f>>=-c,c+=o;c>0;n=256*n+e[t+h],h+=d,c-=8);for(i=n&(1<<-c)-1,n>>=-c,c+=s;c>0;i=256*i+e[t+h],h+=d,c-=8);if(0===n)n=1-l;else{if(n===u)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,s),n-=l}return(f?-1:1)*i*Math.pow(2,n-s)},t.write=function(e,t,r,s,a,n){var i,o,u,l=8*n-a-1,c=(1<<l)-1,h=c>>1,d=5960464477539062e-23*(23===a),f=s?0:n-1,p=s?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),i+h>=1?t+=d/u:t+=d*Math.pow(2,1-h),t*u>=2&&(i++,u/=2),i+h>=c?(o=0,i=c):i+h>=1?(o=(t*u-1)*Math.pow(2,a),i+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,a),i=0));a>=8;e[r+f]=255&o,f+=p,o/=256,a-=8);for(i=i<<a|o,l+=a;l>0;e[r+f]=255&i,f+=p,i/=256,l-=8);e[r+f-p]|=128*m}},10728:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{y:()=>m});var a=r(82061),n=r(1945),i=r(60899),o=r(76739),u=r(84067),l=r(5792),c=r(49650),h=r(25168),d=r(98845),f=r(77022),p=e([a,n,i,o,u,l,c,d,f]);[a,n,i,o,u,l,c,d,f]=p.then?(await p)():p;class m{constructor(){Object.defineProperty(this,"txBuilderConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wallet",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"provider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"network",{enumerable:!0,configurable:!0,writable:!0,value:"Mainnet"}),Object.defineProperty(this,"utils",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}static async new(e,t){let r=new this;if(t&&(r.network=t),e){r.provider=e;let t=await e.getProtocolParameters();r.provider instanceof f.U&&(r.network="Custom",h.rR[r.network]={zeroTime:r.provider.now(),zeroSlot:0,slotLength:1e3});let s=h.rR[r.network];r.txBuilderConfig=a.C.TransactionBuilderConfigBuilder.new().coins_per_utxo_byte(a.C.BigNum.from_str(t.coinsPerUtxoByte.toString())).fee_algo(a.C.LinearFee.new(a.C.BigNum.from_str(t.minFeeA.toString()),a.C.BigNum.from_str(t.minFeeB.toString()))).key_deposit(a.C.BigNum.from_str(t.keyDeposit.toString())).pool_deposit(a.C.BigNum.from_str(t.poolDeposit.toString())).max_tx_size(t.maxTxSize).max_value_size(t.maxValSize).collateral_percentage(t.collateralPercentage).max_collateral_inputs(t.maxCollateralInputs).max_tx_ex_units(a.C.ExUnits.new(a.C.BigNum.from_str(t.maxTxExMem.toString()),a.C.BigNum.from_str(t.maxTxExSteps.toString()))).ex_unit_prices(a.C.ExUnitPrices.from_float(t.priceMem,t.priceStep)).minfee_refscript_cost_per_byte(a.C.UnitInterval.from_float(t.minfeeRefscriptCostPerByte)).slot_config(a.C.BigNum.from_str(s.zeroTime.toString()),a.C.BigNum.from_str(s.zeroSlot.toString()),s.slotLength).blockfrost(a.C.Blockfrost.new((e?.url||"")+"/utils/txs/evaluate",e?.projectId||"")).costmdls((0,n.KN)(t.costModels)).build()}return r.utils=new n.Aq(r),r}async switchProvider(e,t){if("Custom"===this.network)throw Error("Cannot switch when on custom network.");let r=await m.new(e,t);return this.txBuilderConfig=r.txBuilderConfig,this.provider=e||this.provider,this.network=t||this.network,this.wallet=r.wallet,this}newTx(){return new i.Tx(this)}fromTx(e){return new o.m(this,a.C.Transaction.from_bytes((0,n.aD)(e)))}newMessage(e,t){return new c.Q(this,e,t)}verifyMessage(e,t,r){let{paymentCredential:s,stakeCredential:a,address:{hex:n}}=this.utils.getAddressDetails(e),i=s?.hash||a?.hash;if(!i)throw Error("Not a valid address provided.");return(0,l.y)(n,i,t,r)}currentSlot(){return this.utils.unixTimeToSlot(Date.now())}utxosAt(e){return this.provider.getUtxos(e)}utxosAtWithUnit(e,t){return this.provider.getUtxosWithUnit(e,t)}utxoByUnit(e){return this.provider.getUtxoByUnit(e)}utxosByOutRef(e){return this.provider.getUtxosByOutRef(e)}delegationAt(e){return this.provider.getDelegation(e)}awaitTx(e,t=3e3){return this.provider.awaitTx(e,t)}async datumOf(e,t){if(!e.datum){if(!e.datumHash)throw Error("This UTxO does not have a datum hash.");e.datum=await this.provider.getDatum(e.datumHash)}return d.B.from(e.datum,t)}async metadataOf(e){let{policyId:t,name:r,label:s}=(0,n.dd)(e);switch(s){case 222:case 333:case 444:{let e=await this.utxoByUnit((0,n.kM)(t,r,100)),s=await this.datumOf(e);return d.B.toJson(s.fields[0])}default:throw Error("No variant matched.")}}selectWalletFromPrivateKey(e){let t=a.C.PrivateKey.from_bech32(e),r=t.to_public().hash();return this.wallet={address:async()=>a.C.EnterpriseAddress.new(+("Mainnet"===this.network),a.C.StakeCredential.from_keyhash(r)).to_address().to_bech32(void 0),rewardAddress:async()=>null,getUtxos:async()=>await this.utxosAt((0,n.vV)(await this.wallet.address())),getUtxosCore:async()=>{let e=await this.utxosAt((0,n.vV)(await this.wallet.address())),t=a.C.TransactionUnspentOutputs.new();return e.forEach(e=>{t.add((0,n.bM)(e))}),t},getDelegation:async()=>({poolId:null,rewards:0n}),signTx:async e=>{let r=a.C.make_vkey_witness(a.C.hash_transaction(e.body()),t),s=a.C.TransactionWitnessSetBuilder.new();return s.add_vkey(r),s.build()},signMessage:async(t,s)=>{let{paymentCredential:a,address:{hex:n}}=this.utils.getAddressDetails(t),i=a?.hash,o=r.to_hex();if(!i||i!==o)throw Error(`Cannot sign message for address: ${t}.`);return(0,l.E)(n,s,e)},submitTx:async e=>await this.provider.submitTx(e)},this}selectWallet(e){let t=async()=>{let[t]=await e.getUsedAddresses();if(t)return t;let[r]=await e.getUnusedAddresses();return r};return this.wallet={address:async()=>a.C.Address.from_bytes((0,n.aD)(await t())).to_bech32(void 0),rewardAddress:async()=>{let[t]=await e.getRewardAddresses();return t?a.C.RewardAddress.from_address(a.C.Address.from_bytes((0,n.aD)(t))).to_address().to_bech32(void 0):null},getUtxos:async()=>(await e.getUtxos()||[]).map(e=>{let t=a.C.TransactionUnspentOutput.from_bytes((0,n.aD)(e));return(0,n.V$)(t)}),getUtxosCore:async()=>{let t=a.C.TransactionUnspentOutputs.new();return(await e.getUtxos()||[]).forEach(e=>{t.add(a.C.TransactionUnspentOutput.from_bytes((0,n.aD)(e)))}),t},getDelegation:async()=>{let e=await this.wallet.rewardAddress();return e?await this.delegationAt(e):{poolId:null,rewards:0n}},signTx:async t=>{let r=await e.signTx((0,n.nj)(t.to_bytes()),!0);return a.C.TransactionWitnessSet.from_bytes((0,n.aD)(r))},signMessage:async(t,r)=>{let s=(0,n.nj)(a.C.Address.from_bech32(t).to_bytes());return await e.signData(s,r)},submitTx:async t=>await e.submitTx(t)},this}selectWalletFrom({address:e,utxos:t,rewardAddress:r}){let s=this.utils.getAddressDetails(e);return this.wallet={address:async()=>e,rewardAddress:async()=>(!r&&s.stakeCredential?"Key"===s.stakeCredential.type?a.C.RewardAddress.new(+("Mainnet"===this.network),a.C.StakeCredential.from_keyhash(a.C.Ed25519KeyHash.from_hex(s.stakeCredential.hash))).to_address().to_bech32(void 0):a.C.RewardAddress.new(+("Mainnet"===this.network),a.C.StakeCredential.from_scripthash(a.C.ScriptHash.from_hex(s.stakeCredential.hash))).to_address().to_bech32(void 0):r)||null,getUtxos:async()=>t||await this.utxosAt((0,n.vV)(e)),getUtxosCore:async()=>{let r=a.C.TransactionUnspentOutputs.new();return(t||await this.utxosAt((0,n.vV)(e))).forEach(e=>r.add((0,n.bM)(e))),r},getDelegation:async()=>{let e=await this.wallet.rewardAddress();return e?await this.delegationAt(e):{poolId:null,rewards:0n}},signTx:async()=>{throw Error("Not implemented")},signMessage:async()=>{throw Error("Not implemented")},submitTx:async e=>await this.provider.submitTx(e)},this}selectWalletFromSeed(e,t){let{address:r,rewardAddress:s,paymentKey:i,stakeKey:o}=(0,u.R)(e,{addressType:t?.addressType||"Base",accountIndex:t?.accountIndex||0,password:t?.password,network:this.network}),c=a.C.PrivateKey.from_bech32(i).to_public().hash().to_hex(),h=o?a.C.PrivateKey.from_bech32(o).to_public().hash().to_hex():"",d={[c]:i,[h]:o};return this.wallet={address:async()=>r,rewardAddress:async()=>s||null,getUtxos:async()=>this.utxosAt((0,n.vV)(r)),getUtxosCore:async()=>{let e=a.C.TransactionUnspentOutputs.new();return(await this.utxosAt((0,n.vV)(r))).forEach(t=>e.add((0,n.bM)(t))),e},getDelegation:async()=>{let e=await this.wallet.rewardAddress();return e?await this.delegationAt(e):{poolId:null,rewards:0n}},signTx:async e=>{let t=await this.utxosAt(r),s=(0,u.Y)(e,[c,h],t),n=a.C.TransactionWitnessSetBuilder.new();return s.forEach(t=>{let r=a.C.make_vkey_witness(a.C.hash_transaction(e.body()),a.C.PrivateKey.from_bech32(d[t]));n.add_vkey(r)}),n.build()},signMessage:async(e,t)=>{let{paymentCredential:r,stakeCredential:s,address:{hex:a}}=this.utils.getAddressDetails(e),n=d[r?.hash||s?.hash];if(!n)throw Error(`Cannot sign message for address: ${e}.`);return(0,l.E)(a,t,n)},submitTx:async e=>await this.provider.submitTx(e)},this}}s()}catch(e){s(e)}})},25168:(e,t,r)=>{"use strict";r.d(t,{Cl:()=>a,rO:()=>n,rR:()=>s});let s={Mainnet:{zeroTime:1596059091e3,zeroSlot:4492800,slotLength:1e3},Preview:{zeroTime:1666656e6,zeroSlot:0,slotLength:1e3},Preprod:{zeroTime:16557696e5,zeroSlot:86400,slotLength:1e3},Custom:{zeroTime:0,zeroSlot:0,slotLength:0}};function a(e,t){let r=(e-t.zeroSlot)*t.slotLength;return t.zeroTime+r}function n(e,t){return Math.floor((e-t.zeroTime)/t.slotLength)+t.zeroSlot}},32123:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{OC:()=>a.O});var a=r(67472),n=r(67831),i=r(77022),o=r(8562),u=e([a,n,i,o]);[a,n,i,o]=u.then?(await u)():u,s()}catch(e){s(e)}})},39128:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{X:()=>o});var a=r(82061),n=r(1945),i=e([a,n]);[a,n]=i.then?(await i)():i;class o{constructor(e,t){Object.defineProperty(this,"txSigned",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lucid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lucid=e,this.txSigned=t}async submit(){return await (this.lucid.wallet||this.lucid.provider).submitTx((0,n.nj)(this.txSigned.to_bytes()))}toString(){return(0,n.nj)(this.txSigned.to_bytes())}toHash(){return a.C.hash_transaction(this.txSigned.body()).to_hex()}}s()}catch(e){s(e)}})},40014:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{OC:()=>a.OC,yN:()=>a.yN}),r(81729);var a=r(65279),n=e([a]);a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},44086:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{r(91508);var s=r(67960),a=e([s]);s=(a.then?(await a)():a)[0],t()}catch(e){t(e)}})},49477:(e,t,r)=>{"use strict";r.d(t,{ZU:()=>u});let s=Symbol.for("TypeBox.Kind"),a=Symbol.for("TypeBox.Hint"),n=Symbol.for("TypeBox.Modifier"),i=0;class o{ReadonlyOptional(e){return{[n]:"ReadonlyOptional",...e}}Readonly(e){return{[n]:"Readonly",...e}}Optional(e){return{[n]:"Optional",...e}}Any(e={}){return this.Create({...e,[s]:"Any"})}Array(e,t={}){return this.Create({...t,[s]:"Array",type:"array",items:e})}Boolean(e={}){return this.Create({...e,[s]:"Boolean",type:"boolean"})}ConstructorParameters(e,t={}){return this.Tuple([...e.parameters],{...t})}Constructor(e,t,r={}){if("Tuple"===e[s]){let a=void 0===e.items?[]:e.items;return this.Create({...r,[s]:"Constructor",type:"object",instanceOf:"Constructor",parameters:a,returns:t})}if(globalThis.Array.isArray(e))return this.Create({...r,[s]:"Constructor",type:"object",instanceOf:"Constructor",parameters:e,returns:t});throw Error("TypeBuilder.Constructor: Invalid parameters")}Date(e={}){return this.Create({...e,[s]:"Date",type:"object",instanceOf:"Date"})}Enum(e,t={}){let r=Object.keys(e).filter(e=>isNaN(e)).map(t=>e[t]).map(e=>"string"==typeof e?{[s]:"Literal",type:"string",const:e}:{[s]:"Literal",type:"number",const:e});return this.Create({...t,[s]:"Union",[a]:"Enum",anyOf:r})}Function(e,t,r={}){if("Tuple"===e[s]){let a=void 0===e.items?[]:e.items;return this.Create({...r,[s]:"Function",type:"object",instanceOf:"Function",parameters:a,returns:t})}if(globalThis.Array.isArray(e))return this.Create({...r,[s]:"Function",type:"object",instanceOf:"Function",parameters:e,returns:t});throw Error("TypeBuilder.Function: Invalid parameters")}InstanceType(e,t={}){return{...t,...this.Clone(e.returns)}}Integer(e={}){return this.Create({...e,[s]:"Integer",type:"integer"})}Intersect(e,t={}){let r=e=>e[n]&&"Optional"===e[n]||"ReadonlyOptional"===e[n],[a,i]=[new Set,new Set];for(let t of e)for(let[e,s]of Object.entries(t.properties))r(s)&&i.add(e);for(let t of e)for(let e of Object.keys(t.properties))i.has(e)||a.add(e);let o={};for(let t of e)for(let[e,r]of Object.entries(t.properties))o[e]=void 0===o[e]?r:{[s]:"Union",anyOf:[o[e],{...r}]};return a.size>0?this.Create({...t,[s]:"Object",type:"object",properties:o,required:[...a]}):this.Create({...t,[s]:"Object",type:"object",properties:o})}KeyOf(e,t={}){let r=Object.keys(e.properties).map(e=>this.Create({...t,[s]:"Literal",type:"string",const:e}));return this.Create({...t,[s]:"Union",[a]:"KeyOf",anyOf:r})}Literal(e,t={}){return this.Create({...t,[s]:"Literal",const:e,type:typeof e})}Never(e={}){return this.Create({...e,[s]:"Never",allOf:[{type:"boolean",const:!1},{type:"boolean",const:!0}]})}Null(e={}){return this.Create({...e,[s]:"Null",type:"null"})}Number(e={}){return this.Create({...e,[s]:"Number",type:"number"})}Object(e,t={}){let r=Object.keys(e),a=r.filter(t=>{let r=e[t][n];return r&&("Optional"===r||"ReadonlyOptional"===r)}),i=r.filter(e=>!a.includes(e));return i.length>0?this.Create({...t,[s]:"Object",type:"object",properties:e,required:i}):this.Create({...t,[s]:"Object",type:"object",properties:e})}Omit(e,t,r={}){let n="Union"===t[s]?t.anyOf.map(e=>e.const):t,i={...this.Clone(e),...r,[a]:"Omit"};for(let e of(i.required&&(i.required=i.required.filter(e=>!n.includes(e)),0===i.required.length&&delete i.required),Object.keys(i.properties)))n.includes(e)&&delete i.properties[e];return this.Create(i)}Parameters(e,t={}){return u.Tuple(e.parameters,{...t})}Partial(e,t={}){let r={...this.Clone(e),...t,[a]:"Partial"};for(let e of(delete r.required,Object.keys(r.properties))){let t=r.properties[e];switch(t[n]){case"ReadonlyOptional":case"Readonly":t[n]="ReadonlyOptional";break;default:t[n]="Optional"}}return this.Create(r)}Pick(e,t,r={}){let n="Union"===t[s]?t.anyOf.map(e=>e.const):t,i={...this.Clone(e),...r,[a]:"Pick"};for(let e of(i.required&&(i.required=i.required.filter(e=>n.includes(e)),0===i.required.length&&delete i.required),Object.keys(i.properties)))n.includes(e)||delete i.properties[e];return this.Create(i)}Promise(e,t={}){return this.Create({...t,[s]:"Promise",type:"object",instanceOf:"Promise",item:e})}Record(e,t,r={}){if("Union"===e[s])return this.Object(e.anyOf.reduce((e,r)=>({...e,[r.const]:t}),{}),{...r,[a]:"Record"});let n=["Integer","Number"].includes(e[s])?"^(0|[1-9][0-9]*)$":"String"===e[s]&&e.pattern?e.pattern:"^.*$";return this.Create({...r,[s]:"Record",type:"object",patternProperties:{[n]:t},additionalProperties:!1})}Recursive(e,t={}){void 0===t.$id&&(t.$id=`T${i++}`);let r=e({[s]:"Self",$ref:`${t.$id}`});return r.$id=t.$id,this.Create({...t,...r})}Ref(e,t={}){if(void 0===e.$id)throw Error("TypeBuilder.Ref: Referenced schema must specify an $id");return this.Create({...t,[s]:"Ref",$ref:e.$id})}RegEx(e,t={}){return this.Create({...t,[s]:"String",type:"string",pattern:e.source})}Required(e,t={}){let r={...this.Clone(e),...t,[a]:"Required"};for(let e of(r.required=Object.keys(r.properties),Object.keys(r.properties))){let t=r.properties[e];switch(t[n]){case"ReadonlyOptional":case"Readonly":t[n]="Readonly";break;default:delete t[n]}}return this.Create(r)}ReturnType(e,t={}){return{...t,...this.Clone(e.returns)}}Strict(e){return JSON.parse(JSON.stringify(e))}String(e={}){return this.Create({...e,[s]:"String",type:"string"})}Tuple(e,t={}){let r=e.length,a=e.length,n=e.length>0?{...t,[s]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:r,maxItems:a}:{...t,[s]:"Tuple",type:"array",minItems:r,maxItems:a};return this.Create(n)}Undefined(e={}){return this.Create({...e,[s]:"Undefined",type:"null",typeOf:"Undefined"})}Union(e,t={}){return 0===e.length?u.Never({...t}):this.Create({...t,[s]:"Union",anyOf:e})}Uint8Array(e={}){return this.Create({...e,[s]:"Uint8Array",type:"object",instanceOf:"Uint8Array"})}Unknown(e={}){return this.Create({...e,[s]:"Unknown"})}Unsafe(e={}){return this.Create({...e,[s]:e[s]||"Unsafe"})}Void(e={}){return this.Create({...e,[s]:"Void",type:"null",typeOf:"Void"})}Create(e){return e}Clone(e){if("object"==typeof e&&null!==e&&!Array.isArray(e))return Object.keys(e).reduce((t,r)=>({...t,[r]:this.Clone(e[r])}),Object.getOwnPropertySymbols(e).reduce((t,r)=>({...t,[r]:this.Clone(e[r])}),{}));return"object"==typeof e&&null!==e&&Array.isArray(e)?e.map(e=>this.Clone(e)):e}}let u=new o},49650:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Q:()=>o});var a=r(5792),n=r(65279),i=e([a,n]);[a,n]=i.then?(await i)():i;class o{constructor(e,t,r){Object.defineProperty(this,"lucid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"address",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"payload",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lucid=e,this.address=t,this.payload=r}sign(){return this.lucid.wallet.signMessage(this.address,this.payload)}signWithPrivateKey(e){let{paymentCredential:t,stakeCredential:r,address:{hex:s}}=this.lucid.utils.getAddressDetails(this.address),i=t?.hash||r?.hash,o=n.C.PrivateKey.from_bech32(e).to_public().hash().to_hex();if(!i||i!==o)throw Error(`Cannot sign message for address: ${this.address}.`);return(0,a.E)(s,this.payload,e)}}s()}catch(e){s(e)}})},54711:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{B_:()=>a.B});var a=r(98845);r(25168);var n=e([a]);a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},60899:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Tx:()=>f});var a=r(82061),n=r(65279),i=r(1945),o=r(67960),u=r(76739),l=e([a,n,i,o,u]);[a,n,i,o,u]=l.then?(await l)():l;class f{constructor(e){Object.defineProperty(this,"txBuilder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tasks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lucid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lucid=e,this.txBuilder=a.C.TransactionBuilder.new(this.lucid.txBuilderConfig),this.tasks=[]}readFrom(e){return this.tasks.push(async t=>{for(let r of e){if(r.datumHash){r.datum=n.B_.to(await t.lucid.datumOf(r));let e=a.C.PlutusData.from_bytes((0,i.aD)(r.datum));t.txBuilder.add_plutus_data(e)}let e=(0,i.bM)(r);t.txBuilder.add_reference_input(e)}}),this}collectFrom(e,t){return this.tasks.push(async r=>{for(let s of e){s.datumHash&&!s.datum&&(s.datum=n.B_.to(await r.lucid.datumOf(s)));let e=(0,i.bM)(s);r.txBuilder.add_input(e,t&&a.C.ScriptWitness.new_plutus_witness(a.C.PlutusWitness.new(a.C.PlutusData.from_bytes((0,i.aD)(t)),s.datumHash&&s.datum?a.C.PlutusData.from_bytes((0,i.aD)(s.datum)):void 0,void 0)))}}),this}mintAssets(e,t){return this.tasks.push(r=>{let s=Object.keys(e),n=s[0].slice(0,56),o=a.C.MintAssets.new();s.forEach(t=>{if(t.slice(0,56)!==n)throw Error("Only one policy id allowed. You can chain multiple mintAssets functions together if you need to mint assets with different policy ids.");o.insert(a.C.AssetName.new((0,i.aD)(t.slice(56))),a.C.Int.from_str(e[t].toString()))});let u=a.C.ScriptHash.from_bytes((0,i.aD)(n));r.txBuilder.add_mint(u,o,t?a.C.ScriptWitness.new_plutus_witness(a.C.PlutusWitness.new(a.C.PlutusData.from_bytes((0,i.aD)(t)),void 0,void 0)):void 0)}),this}payToAddress(e,t){return this.tasks.push(r=>{let s=a.C.TransactionOutput.new(d(e,r.lucid),(0,i.Wh)(t));r.txBuilder.add_output(s)}),this}payToAddressWithData(e,t,r){return this.tasks.push(s=>{if("string"==typeof t&&(t={asHash:t}),[t.hash,t.asHash,t.inline].filter(e=>e).length>1)throw Error("Not allowed to set hash, asHash and inline at the same time.");let n=a.C.TransactionOutput.new(d(e,s.lucid),(0,i.Wh)(r));if(t.hash)n.set_datum(a.C.Datum.new_data_hash(a.C.DataHash.from_hex(t.hash)));else if(t.asHash){let e=a.C.PlutusData.from_bytes((0,i.aD)(t.asHash));n.set_datum(a.C.Datum.new_data_hash(a.C.hash_plutus_data(e))),s.txBuilder.add_plutus_data(e)}else if(t.inline){let e=a.C.PlutusData.from_bytes((0,i.aD)(t.inline));n.set_datum(a.C.Datum.new_data(a.C.Data.new(e)))}let o=t.scriptRef;o&&n.set_script_ref((0,i.Kk)(o)),s.txBuilder.add_output(n)}),this}payToContract(e,t,r){if("string"==typeof t&&(t={asHash:t}),!(t.hash||t.asHash||t.inline))throw Error("No datum set. Script output becomes unspendable without datum.");return this.payToAddressWithData(e,t,r)}delegateTo(e,t,r){return this.tasks.push(s=>{let n=s.lucid.utils.getAddressDetails(e);if("Reward"!==n.type||!n.stakeCredential)throw Error("Not a reward address provided.");let o="Key"===n.stakeCredential.type?a.C.StakeCredential.from_keyhash(a.C.Ed25519KeyHash.from_bytes((0,i.aD)(n.stakeCredential.hash))):a.C.StakeCredential.from_scripthash(a.C.ScriptHash.from_bytes((0,i.aD)(n.stakeCredential.hash)));s.txBuilder.add_certificate(a.C.Certificate.new_stake_delegation(a.C.StakeDelegation.new(o,a.C.Ed25519KeyHash.from_bech32(t))),r?a.C.ScriptWitness.new_plutus_witness(a.C.PlutusWitness.new(a.C.PlutusData.from_bytes((0,i.aD)(r)),void 0,void 0)):void 0)}),this}registerStake(e){return this.tasks.push(t=>{let r=t.lucid.utils.getAddressDetails(e);if("Reward"!==r.type||!r.stakeCredential)throw Error("Not a reward address provided.");let s="Key"===r.stakeCredential.type?a.C.StakeCredential.from_keyhash(a.C.Ed25519KeyHash.from_bytes((0,i.aD)(r.stakeCredential.hash))):a.C.StakeCredential.from_scripthash(a.C.ScriptHash.from_bytes((0,i.aD)(r.stakeCredential.hash)));t.txBuilder.add_certificate(a.C.Certificate.new_stake_registration(a.C.StakeRegistration.new(s)),void 0)}),this}deregisterStake(e,t){return this.tasks.push(r=>{let s=r.lucid.utils.getAddressDetails(e);if("Reward"!==s.type||!s.stakeCredential)throw Error("Not a reward address provided.");let n="Key"===s.stakeCredential.type?a.C.StakeCredential.from_keyhash(a.C.Ed25519KeyHash.from_bytes((0,i.aD)(s.stakeCredential.hash))):a.C.StakeCredential.from_scripthash(a.C.ScriptHash.from_bytes((0,i.aD)(s.stakeCredential.hash)));r.txBuilder.add_certificate(a.C.Certificate.new_stake_deregistration(a.C.StakeDeregistration.new(n)),t?a.C.ScriptWitness.new_plutus_witness(a.C.PlutusWitness.new(a.C.PlutusData.from_bytes((0,i.aD)(t)),void 0,void 0)):void 0)}),this}registerPool(e){return this.tasks.push(async t=>{let r=await h(e,t.lucid),s=a.C.Certificate.new_pool_registration(r);t.txBuilder.add_certificate(s,void 0)}),this}updatePool(e){return this.tasks.push(async t=>{let r=await h(e,t.lucid);r.set_is_update(!0);let s=a.C.Certificate.new_pool_registration(r);t.txBuilder.add_certificate(s,void 0)}),this}retirePool(e,t){return this.tasks.push(r=>{let s=a.C.Certificate.new_pool_retirement(a.C.PoolRetirement.new(a.C.Ed25519KeyHash.from_bech32(e),t));r.txBuilder.add_certificate(s,void 0)}),this}withdraw(e,t,r){return this.tasks.push(s=>{s.txBuilder.add_withdrawal(a.C.RewardAddress.from_address(d(e,s.lucid)),a.C.BigNum.from_str(t.toString()),r?a.C.ScriptWitness.new_plutus_witness(a.C.PlutusWitness.new(a.C.PlutusData.from_bytes((0,i.aD)(r)),void 0,void 0)):void 0)}),this}addSigner(e){let t=this.lucid.utils.getAddressDetails(e);if(!t.paymentCredential&&!t.stakeCredential)throw Error("Not a valid address.");let r="Reward"===t.type?t.stakeCredential:t.paymentCredential;if("Script"===r.type)throw Error("Only key hashes are allowed as signers.");return this.addSignerKey(r.hash)}addSignerKey(e){return this.tasks.push(t=>{t.txBuilder.add_required_signer(a.C.Ed25519KeyHash.from_bytes((0,i.aD)(e)))}),this}validFrom(e){return this.tasks.push(t=>{let r=t.lucid.utils.unixTimeToSlot(e);t.txBuilder.set_validity_start_interval(a.C.BigNum.from_str(r.toString()))}),this}validTo(e){return this.tasks.push(t=>{let r=t.lucid.utils.unixTimeToSlot(e);t.txBuilder.set_ttl(a.C.BigNum.from_str(r.toString()))}),this}attachMetadata(e,t){return this.tasks.push(r=>{r.txBuilder.add_json_metadatum(a.C.BigNum.from_str(e.toString()),JSON.stringify(t))}),this}attachMetadataWithConversion(e,t){return this.tasks.push(r=>{r.txBuilder.add_json_metadatum_with_schema(a.C.BigNum.from_str(e.toString()),JSON.stringify(t),a.C.MetadataJsonSchema.BasicConversions)}),this}addNetworkId(e){return this.tasks.push(t=>{t.txBuilder.set_network_id(a.C.NetworkId.from_bytes((0,i.aD)(e.toString(16).padStart(2,"0"))))}),this}attachSpendingValidator(e){return this.tasks.push(t=>{c(t,e)}),this}attachMintingPolicy(e){return this.tasks.push(t=>{c(t,e)}),this}attachCertificateValidator(e){return this.tasks.push(t=>{c(t,e)}),this}attachWithdrawalValidator(e){return this.tasks.push(t=>{c(t,e)}),this}compose(e){return e&&(this.tasks=this.tasks.concat(e.tasks)),this}async complete(e){if([e?.change?.outputData?.hash,e?.change?.outputData?.asHash,e?.change?.outputData?.inline].filter(e=>e).length>1)throw Error("Not allowed to set hash, asHash and inline at the same time.");let t=this.tasks.shift();for(;t;)await t(this),t=this.tasks.shift();let r=await this.lucid.wallet.getUtxosCore(),s=d(e?.change?.address||await this.lucid.wallet.address(),this.lucid);return(e?.coinSelection||e?.coinSelection===void 0)&&this.txBuilder.add_inputs_from(r,s),this.txBuilder.balance(s,(()=>e?.change?.outputData?.hash?a.C.Datum.new_data_hash(a.C.DataHash.from_hex(e.change.outputData.hash)):e?.change?.outputData?.asHash?(this.txBuilder.add_plutus_data(a.C.PlutusData.from_bytes((0,i.aD)(e.change.outputData.asHash))),a.C.Datum.new_data_hash(a.C.hash_plutus_data(a.C.PlutusData.from_bytes((0,i.aD)(e.change.outputData.asHash))))):e?.change?.outputData?.inline?a.C.Datum.new_data(a.C.Data.new(a.C.PlutusData.from_bytes((0,i.aD)(e.change.outputData.inline)))):void 0)()),new u.m(this.lucid,await this.txBuilder.construct(r,s,e?.nativeUplc===void 0||e?.nativeUplc))}async toString(){let e=this.tasks.shift();for(;e;)await e(this),e=this.tasks.shift();return(0,i.nj)(this.txBuilder.to_bytes())}}function c(e,{type:t,script:r}){if("Native"===t)return e.txBuilder.add_native_script(a.C.NativeScript.from_bytes((0,i.aD)(r)));if("PlutusV1"===t)return e.txBuilder.add_plutus_script(a.C.PlutusScript.from_bytes((0,i.aD)((0,o.JF)(r))));if("PlutusV2"===t)return e.txBuilder.add_plutus_v2_script(a.C.PlutusScript.from_bytes((0,i.aD)((0,o.JF)(r))));throw Error("No variant matched.")}async function h(e,t){let r=a.C.Ed25519KeyHashes.new();e.owners.forEach(e=>{let{stakeCredential:s}=t.utils.getAddressDetails(e);if(s?.type==="Key")r.add(a.C.Ed25519KeyHash.from_hex(s.hash));else throw Error("Only key hashes allowed for pool owners.")});let s=e.metadataUrl?await fetch(e.metadataUrl).then(e=>e.arrayBuffer()):null,n=s?a.C.PoolMetadataHash.from_bytes(a.C.hash_blake2b256(new Uint8Array(s))):null,o=a.C.Relays.new();return e.relays.forEach(e=>{switch(e.type){case"SingleHostIp":{let t=e.ipV4?a.C.Ipv4.new(new Uint8Array(e.ipV4.split(".").map(e=>parseInt(e)))):void 0,r=e.ipV6?a.C.Ipv6.new((0,i.aD)(e.ipV6.replaceAll(":",""))):void 0;o.add(a.C.Relay.new_single_host_addr(a.C.SingleHostAddr.new(e.port,t,r)));break}case"SingleHostDomainName":o.add(a.C.Relay.new_single_host_name(a.C.SingleHostName.new(e.port,a.C.DNSRecordAorAAAA.new(e.domainName))));break;case"MultiHost":o.add(a.C.Relay.new_multi_host_name(a.C.MultiHostName.new(a.C.DNSRecordSRV.new(e.domainName))))}}),a.C.PoolRegistration.new(a.C.PoolParams.new(a.C.Ed25519KeyHash.from_bech32(e.poolId),a.C.VRFKeyHash.from_hex(e.vrfKeyHash),a.C.BigNum.from_str(e.pledge.toString()),a.C.BigNum.from_str(e.cost.toString()),a.C.UnitInterval.from_float(e.margin),a.C.RewardAddress.from_address(d(e.rewardAddress,t)),r,o,n?a.C.PoolMetadata.new(a.C.Url.new(e.metadataUrl),n):void 0))}function d(e,t){let{type:r,networkId:s}=t.utils.getAddressDetails(e),n=(0,i.dK)(t.network);if(s!==n)throw Error(`Invalid address: Expected address with network id ${n}, but got ${s}`);return"Byron"===r?a.C.ByronAddress.from_base58(e).to_address():a.C.Address.from_bech32(e)}s()}catch(e){s(e)}})},65279:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{B_:()=>u.B_,C:()=>a.C,M:()=>a.M,OC:()=>i.OC,TZ:()=>o.TZ,aD:()=>o.aD,nj:()=>o.nj,yN:()=>n.yN});var a=r(82061),n=r(98209),i=r(32123),o=r(1945),u=r(54711),l=e([a,n,i,o,u]);[a,n,i,o,u]=l.then?(await l)():l,s()}catch(e){s(e)}})},67472:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{O:()=>u});var a=r(82061),n=r(1945),i=r(8650),o=e([a,n]);[a,n]=o.then?(await o)():o;class u{constructor(e,t){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=e,this.projectId=t||""}async getProtocolParameters(){let e=await fetch(`${this.url}/epochs/latest/parameters`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());return{minFeeA:parseInt(e.min_fee_a),minFeeB:parseInt(e.min_fee_b),maxTxSize:parseInt(e.max_tx_size),maxValSize:parseInt(e.max_val_size),keyDeposit:BigInt(e.key_deposit),poolDeposit:BigInt(e.pool_deposit),priceMem:parseFloat(e.price_mem),priceStep:parseFloat(e.price_step),maxTxExMem:BigInt(e.max_tx_ex_mem),maxTxExSteps:BigInt(e.max_tx_ex_steps),coinsPerUtxoByte:BigInt(e.coins_per_utxo_size),collateralPercentage:parseInt(e.collateral_percent),maxCollateralInputs:parseInt(e.max_collateral_inputs),costModels:e.cost_models,minfeeRefscriptCostPerByte:parseInt(e.min_fee_ref_script_cost_per_byte)}}async getUtxos(e){let t="string"==typeof e?e:"Key"===e.type?a.C.Ed25519KeyHash.from_hex(e.hash).to_bech32("addr_vkh"):a.C.ScriptHash.from_hex(e.hash).to_bech32("addr_vkh"),r=[],s=1;for(;;){let e=await fetch(`${this.url}/addresses/${t}/utxos?page=${s}`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if(e.error){if(404===e.status_code)return[];throw Error("Could not fetch UTxOs from Blockfrost. Try again.")}if(r=r.concat(e),e.length<=0)break;s++}return this.blockfrostUtxosToUtxos(r)}async getUtxosWithUnit(e,t){let r="string"==typeof e?e:"Key"===e.type?a.C.Ed25519KeyHash.from_hex(e.hash).to_bech32("addr_vkh"):a.C.ScriptHash.from_hex(e.hash).to_bech32("addr_vkh"),s=[],n=1;for(;;){let e=await fetch(`${this.url}/addresses/${r}/utxos/${t}?page=${n}`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if(e.error){if(404===e.status_code)return[];throw Error("Could not fetch UTxOs from Blockfrost. Try again.")}if(s=s.concat(e),e.length<=0)break;n++}return this.blockfrostUtxosToUtxos(s)}async getUtxoByUnit(e){let t=await fetch(`${this.url}/assets/${e}/addresses?count=2`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if(!t||t.error)throw Error("Unit not found.");if(t.length>1)throw Error("Unit needs to be an NFT or only held by one address.");let r=t[0].address,s=await this.getUtxosWithUnit(r,e);if(s.length>1)throw Error("Unit needs to be an NFT or only held by one address.");return s[0]}async getUtxosByOutRef(e){let t=[...new Set(e.map(e=>e.txHash))];return(await Promise.all(t.map(async e=>{let t=await fetch(`${this.url}/txs/${e}/utxos`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if(!t||t.error)return[];let r=t.outputs.map(t=>({...t,tx_hash:e}));return this.blockfrostUtxosToUtxos(r)}))).reduce((e,t)=>e.concat(t),[]).filter(t=>e.some(e=>t.txHash===e.txHash&&t.outputIndex===e.outputIndex))}async getDelegation(e){let t=await fetch(`${this.url}/accounts/${e}`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());return!t||t.error?{poolId:null,rewards:0n}:{poolId:t.pool_id||null,rewards:BigInt(t.withdrawable_amount)}}async getDatum(e){let t=await fetch(`${this.url}/scripts/datum/${e}/cbor`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json()).then(e=>e.cbor);if(!t||t.error)throw Error(`No datum found for datum hash: ${e}`);return t}awaitTx(e,t=3e3){return new Promise(r=>{let s=setInterval(async()=>{let t=await fetch(`${this.url}/txs/${e}`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if(t&&!t.error)return clearInterval(s),await new Promise(e=>setTimeout(()=>e(1),1e3)),r(!0)},t)})}async submitTx(e){let t=await fetch(`${this.url}/tx/submit`,{method:"POST",headers:{"Content-Type":"application/cbor",project_id:this.projectId,lucid:l},body:(0,n.aD)(e)}).then(e=>e.json());if(!t||t.error){if(t?.status_code===400)throw Error(t.message);throw Error("Could not submit transaction.")}return t}async blockfrostUtxosToUtxos(e){return await Promise.all(e.map(async e=>({txHash:e.tx_hash,outputIndex:e.output_index,assets:Object.fromEntries(e.amount.map(({unit:e,quantity:t})=>[e,BigInt(t)])),address:e.address,datumHash:!e.inline_datum&&e.data_hash||void 0,datum:e.inline_datum||void 0,scriptRef:e.reference_script_hash?await (async()=>{let{type:t}=await fetch(`${this.url}/scripts/${e.reference_script_hash}`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());if("Native"===t||"native"===t)throw Error("Native script ref not implemented!");let{cbor:r}=await fetch(`${this.url}/scripts/${e.reference_script_hash}/cbor`,{headers:{project_id:this.projectId,lucid:l}}).then(e=>e.json());return{type:"plutusV1"===t?"PlutusV1":"PlutusV2",script:(0,n.JF)(r)}})():void 0})))}}let l=i.A.version;s()}catch(e){s(e)}})},67831:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{var s=r(82061),a=r(1945),n=e([s,a]);[s,a]=n.then?(await n)():n,t()}catch(e){t(e)}})},67960:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Aq:()=>E,IK:()=>v,JF:()=>S,Kk:()=>m,TZ:()=>d,V$:()=>y,Wh:()=>p,aD:()=>w,bM:()=>g,dK:()=>b,dd:()=>k,kM:()=>x,nj:()=>_,vV:()=>f});var a=r(69441),n=r(82061),i=r(80601),o=r(4784),u=r(25168),l=r(98845),c=e([n,i,l]);[n,i,l]=c.then?(await c)():c;class E{constructor(e){Object.defineProperty(this,"lucid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lucid=e}validatorToAddress(e,t){let r=this.validatorToScriptHash(e);return t?n.C.BaseAddress.new(b(this.lucid.network),n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(r)),"Key"===t.type?n.C.StakeCredential.from_keyhash(n.C.Ed25519KeyHash.from_hex(t.hash)):n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(t.hash))).to_address().to_bech32(void 0):n.C.EnterpriseAddress.new(b(this.lucid.network),n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(r))).to_address().to_bech32(void 0)}credentialToAddress(e,t){return t?n.C.BaseAddress.new(b(this.lucid.network),"Key"===e.type?n.C.StakeCredential.from_keyhash(n.C.Ed25519KeyHash.from_hex(e.hash)):n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(e.hash)),"Key"===t.type?n.C.StakeCredential.from_keyhash(n.C.Ed25519KeyHash.from_hex(t.hash)):n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(t.hash))).to_address().to_bech32(void 0):n.C.EnterpriseAddress.new(b(this.lucid.network),"Key"===e.type?n.C.StakeCredential.from_keyhash(n.C.Ed25519KeyHash.from_hex(e.hash)):n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(e.hash))).to_address().to_bech32(void 0)}validatorToRewardAddress(e){let t=this.validatorToScriptHash(e);return n.C.RewardAddress.new(b(this.lucid.network),n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(t))).to_address().to_bech32(void 0)}credentialToRewardAddress(e){return n.C.RewardAddress.new(b(this.lucid.network),"Key"===e.type?n.C.StakeCredential.from_keyhash(n.C.Ed25519KeyHash.from_hex(e.hash)):n.C.StakeCredential.from_scripthash(n.C.ScriptHash.from_hex(e.hash))).to_address().to_bech32(void 0)}validatorToScriptHash(e){switch(e.type){case"Native":return n.C.NativeScript.from_bytes(w(e.script)).hash(n.C.ScriptHashNamespace.NativeScript).to_hex();case"PlutusV1":return n.C.PlutusScript.from_bytes(w(S(e.script))).hash(n.C.ScriptHashNamespace.PlutusV1).to_hex();case"PlutusV2":return n.C.PlutusScript.from_bytes(w(S(e.script))).hash(n.C.ScriptHashNamespace.PlutusV2).to_hex();default:throw Error("No variant matched")}}mintingPolicyToId(e){return this.validatorToScriptHash(e)}datumToHash(e){return n.C.hash_plutus_data(n.C.PlutusData.from_bytes(w(e))).to_hex()}scriptHashToCredential(e){return{type:"Script",hash:e}}keyHashToCredential(e){return{type:"Key",hash:e}}generatePrivateKey(){return n.C.PrivateKey.generate_ed25519().to_bech32()}generateSeedPhrase(){return(0,i.w)(256)}unixTimeToSlot(e){return(0,u.rO)(e,u.rR[this.lucid.network])}slotToUnixTime(e){return(0,u.Cl)(e,u.rR[this.lucid.network])}getAddressDetails(e){return d(e)}nativeScriptFromJson(e){var t;return t=e,{type:"Native",script:_(n.C.encode_json_str_to_native_script(JSON.stringify(t),"",n.C.ScriptSchema.Node).to_bytes())}}paymentCredentialOf(e){return f(e)}stakeCredentialOf(e){return function(e){let{stakeCredential:t}=d(e);if(!t)throw Error("The specified address does not contain a stake credential.");return t}(e)}}function h(e){try{return n.C.Address.from_bytes(w(e))}catch(t){try{return n.C.Address.from_bech32(e)}catch(e){throw Error("Could not deserialize address.")}}}function d(e){try{let t=n.C.BaseAddress.from_address(h(e)),r=0===t.payment_cred().kind()?{type:"Key",hash:_(t.payment_cred().to_keyhash().to_bytes())}:{type:"Script",hash:_(t.payment_cred().to_scripthash().to_bytes())},s=0===t.stake_cred().kind()?{type:"Key",hash:_(t.stake_cred().to_keyhash().to_bytes())}:{type:"Script",hash:_(t.stake_cred().to_scripthash().to_bytes())};return{type:"Base",networkId:t.to_address().network_id(),address:{bech32:t.to_address().to_bech32(void 0),hex:_(t.to_address().to_bytes())},paymentCredential:r,stakeCredential:s}}catch(e){}try{let t=n.C.EnterpriseAddress.from_address(h(e)),r=0===t.payment_cred().kind()?{type:"Key",hash:_(t.payment_cred().to_keyhash().to_bytes())}:{type:"Script",hash:_(t.payment_cred().to_scripthash().to_bytes())};return{type:"Enterprise",networkId:t.to_address().network_id(),address:{bech32:t.to_address().to_bech32(void 0),hex:_(t.to_address().to_bytes())},paymentCredential:r}}catch(e){}try{let t=n.C.PointerAddress.from_address(h(e)),r=0===t.payment_cred().kind()?{type:"Key",hash:_(t.payment_cred().to_keyhash().to_bytes())}:{type:"Script",hash:_(t.payment_cred().to_scripthash().to_bytes())};return{type:"Pointer",networkId:t.to_address().network_id(),address:{bech32:t.to_address().to_bech32(void 0),hex:_(t.to_address().to_bytes())},paymentCredential:r}}catch(e){}try{let t=n.C.RewardAddress.from_address(h(e)),r=0===t.payment_cred().kind()?{type:"Key",hash:_(t.payment_cred().to_keyhash().to_bytes())}:{type:"Script",hash:_(t.payment_cred().to_scripthash().to_bytes())};return{type:"Reward",networkId:t.to_address().network_id(),address:{bech32:t.to_address().to_bech32(void 0),hex:_(t.to_address().to_bytes())},stakeCredential:r}}catch(e){}try{let t=(e=>{try{return n.C.ByronAddress.from_bytes(w(e))}catch(t){try{return n.C.ByronAddress.from_base58(e)}catch(e){throw Error("Could not deserialize address.")}}})(e);return{type:"Byron",networkId:t.network_id(),address:{bech32:"",hex:_(t.to_address().to_bytes())}}}catch(e){}throw Error("No address type matched for: "+e)}function f(e){let{paymentCredential:t}=d(e);if(!t)throw Error("The specified address does not contain a payment credential.");return t}function p(e){let t=n.C.MultiAsset.new(),r=e.lovelace,s=Object.keys(e);Array.from(new Set(s.filter(e=>"lovelace"!==e).map(e=>e.slice(0,56)))).forEach(r=>{let a=s.filter(e=>e.slice(0,56)===r),i=n.C.Assets.new();a.forEach(t=>{i.insert(n.C.AssetName.new(w(t.slice(56))),n.C.BigNum.from_str(e[t].toString()))}),t.insert(n.C.ScriptHash.from_bytes(w(r)),i)});let a=n.C.Value.new(n.C.BigNum.from_str(r?r.toString():"0"));return(s.length>1||!r)&&a.set_multiasset(t),a}function m(e){switch(e.type){case"Native":return n.C.ScriptRef.new(n.C.Script.new_native(n.C.NativeScript.from_bytes(w(e.script))));case"PlutusV1":return n.C.ScriptRef.new(n.C.Script.new_plutus_v1(n.C.PlutusScript.from_bytes(w(S(e.script)))));case"PlutusV2":return n.C.ScriptRef.new(n.C.Script.new_plutus_v2(n.C.PlutusScript.from_bytes(w(S(e.script)))));default:throw Error("No variant matched.")}}function g(e){let t=(()=>{try{return n.C.Address.from_bech32(e.address)}catch(t){return n.C.ByronAddress.from_base58(e.address).to_address()}})(),r=n.C.TransactionOutput.new(t,p(e.assets));return e.datumHash&&r.set_datum(n.C.Datum.new_data_hash(n.C.DataHash.from_bytes(w(e.datumHash)))),!e.datumHash&&e.datum&&r.set_datum(n.C.Datum.new_data(n.C.Data.new(n.C.PlutusData.from_bytes(w(e.datum))))),e.scriptRef&&r.set_script_ref(m(e.scriptRef)),n.C.TransactionUnspentOutput.new(n.C.TransactionInput.new(n.C.TransactionHash.from_bytes(w(e.txHash)),n.C.BigNum.from_str(e.outputIndex.toString())),r)}function y(e){return{txHash:_(e.input().transaction_id().to_bytes()),outputIndex:parseInt(e.input().index().to_str()),assets:function(e){let t={};t.lovelace=BigInt(e.coin().to_str());let r=e.multiasset();if(r){let e=r.keys();for(let s=0;s<e.len();s++){let a=e.get(s),n=r.get(a),i=n.keys();for(let e=0;e<i.len();e++){let r=i.get(e),s=n.get(r);t[_(a.to_bytes())+_(r.name())]=BigInt(s.to_str())}}}return t}(e.output().amount()),address:e.output().address().as_byron()?e.output().address().as_byron()?.to_base58():e.output().address().to_bech32(void 0),datumHash:e.output()?.datum()?.as_data_hash()?.to_hex(),datum:e.output()?.datum()?.as_data()&&_(e.output().datum().as_data().get().to_bytes()),scriptRef:e.output()?.script_ref()&&function(e){switch(e.get().kind()){case 0:return{type:"Native",script:_(e.get().as_native().to_bytes())};case 1:return{type:"PlutusV1",script:_(e.get().as_plutus_v1().to_bytes())};case 2:return{type:"PlutusV2",script:_(e.get().as_plutus_v2().to_bytes())};default:throw Error("No variant matched.")}}(e.output().script_ref())}}function b(e){switch(e){case"Preview":case"Preprod":case"Custom":return 0;case"Mainnet":return 1;default:throw Error("Network not found")}}function w(e){return(0,a.sc)(e)}function _(e){return(0,a.pB)(e)}function v(e){return _(new TextEncoder().encode(e))}function C(e){return(0,o.x)(w(e)).toString(16).padStart(2,"0")}function x(e,t,r){let s=Number.isInteger(r)?function(e){if(e<0||e>65535)throw Error(`Label ${e} out of range: min label 1 - max label 65535.`);let t=e.toString(16).padStart(4,"0");return"0"+t+C(t)+"0"}(r):"",a=t||"";if((a+s).length>64)throw Error("Asset name size exceeds 32 bytes.");if(56!==e.length)throw Error(`Policy id invalid: ${e}.`);return e+s+a}function k(e){let t=e.slice(0,56),r=e.slice(56)||null,s=function(e){if(8!==e.length||"0"!==e[0]||"0"!==e[7])return null;let t=e.slice(1,5),r=parseInt(t,16);return e.slice(5,7)===C(t)?r:null}(e.slice(56,64)),a=(Number.isInteger(s)?e.slice(64):e.slice(56))||null;return{policyId:t,assetName:r,name:a,label:s}}function S(e){try{return n.C.PlutusScript.from_bytes(n.C.PlutusScript.from_bytes(w(e)).bytes()),e}catch(t){return _(n.C.PlutusScript.new(w(e)).to_bytes())}}s()}catch(e){s(e)}})},69441:(e,t,r)=>{"use strict";r.d(t,{pB:()=>n,sc:()=>i});let s=new TextEncoder().encode("0123456789abcdef");function a(e){if(48<=e&&e<=57)return e-48;if(97<=e&&e<=102)return e-97+10;if(65<=e&&e<=70)return e-65+10;throw Error("encoding/hex: invalid byte: "+new TextDecoder().decode(new Uint8Array([e])))}function n(e){return new TextDecoder().decode(function(e){let t=new Uint8Array(2*e.length);for(let r=0;r<t.length;r++){let a=e[r];t[2*r]=s[a>>4],t[2*r+1]=s[15&a]}return t}(e))}function i(e){return function(e){let t=new Uint8Array(e.length>>>1);for(let r=0;r<t.length;r++){let s=a(e[2*r]),n=a(e[2*r+1]);t[r]=s<<4|n}if(e.length%2==1)throw a(e[2*t.length]),Error("encoding/hex: odd length hex string");return t}(new TextEncoder().encode(e))}},70140:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{K:()=>i,a:()=>o});var a=r(82061),n=e([a]);function i(e){let t=a.C.Costmdls.new(),r=a.C.CostModel.new();Object.values(e.PlutusV1).forEach((e,t)=>{r.set(t,a.C.Int.new(a.C.BigNum.from_str(e.toString())))}),t.insert(a.C.Language.new_plutus_v1(),r);let s=a.C.CostModel.new_plutus_v2();return Object.values(e.PlutusV2||[]).forEach((e,t)=>{s.set(t,a.C.Int.new(a.C.BigNum.from_str(e.toString())))}),t.insert(a.C.Language.new_plutus_v2(),s),t}a=(n.then?(await n)():n)[0];let o={minFeeA:44,minFeeB:155381,maxTxSize:16384,maxValSize:5e3,keyDeposit:2000000n,poolDeposit:500000000n,priceMem:.0577,priceStep:721e-7,maxTxExMem:14000000n,maxTxExSteps:10000000000n,coinsPerUtxoByte:4310n,collateralPercentage:150,maxCollateralInputs:3,minfeeRefscriptCostPerByte:15,costModels:{PlutusV1:{"addInteger-cpu-arguments-intercept":205665,"addInteger-cpu-arguments-slope":812,"addInteger-memory-arguments-intercept":1,"addInteger-memory-arguments-slope":1,"appendByteString-cpu-arguments-intercept":1e3,"appendByteString-cpu-arguments-slope":571,"appendByteString-memory-arguments-intercept":0,"appendByteString-memory-arguments-slope":1,"appendString-cpu-arguments-intercept":1e3,"appendString-cpu-arguments-slope":24177,"appendString-memory-arguments-intercept":4,"appendString-memory-arguments-slope":1,"bData-cpu-arguments":1e3,"bData-memory-arguments":32,"blake2b_256-cpu-arguments-intercept":117366,"blake2b_256-cpu-arguments-slope":10475,"blake2b_256-memory-arguments":4,"cekApplyCost-exBudgetCPU":23e3,"cekApplyCost-exBudgetMemory":100,"cekBuiltinCost-exBudgetCPU":23e3,"cekBuiltinCost-exBudgetMemory":100,"cekConstCost-exBudgetCPU":23e3,"cekConstCost-exBudgetMemory":100,"cekDelayCost-exBudgetCPU":23e3,"cekDelayCost-exBudgetMemory":100,"cekForceCost-exBudgetCPU":23e3,"cekForceCost-exBudgetMemory":100,"cekLamCost-exBudgetCPU":23e3,"cekLamCost-exBudgetMemory":100,"cekStartupCost-exBudgetCPU":100,"cekStartupCost-exBudgetMemory":100,"cekVarCost-exBudgetCPU":23e3,"cekVarCost-exBudgetMemory":100,"chooseData-cpu-arguments":19537,"chooseData-memory-arguments":32,"chooseList-cpu-arguments":175354,"chooseList-memory-arguments":32,"chooseUnit-cpu-arguments":46417,"chooseUnit-memory-arguments":4,"consByteString-cpu-arguments-intercept":221973,"consByteString-cpu-arguments-slope":511,"consByteString-memory-arguments-intercept":0,"consByteString-memory-arguments-slope":1,"constrData-cpu-arguments":89141,"constrData-memory-arguments":32,"decodeUtf8-cpu-arguments-intercept":497525,"decodeUtf8-cpu-arguments-slope":14068,"decodeUtf8-memory-arguments-intercept":4,"decodeUtf8-memory-arguments-slope":2,"divideInteger-cpu-arguments-constant":196500,"divideInteger-cpu-arguments-model-arguments-intercept":453240,"divideInteger-cpu-arguments-model-arguments-slope":220,"divideInteger-memory-arguments-intercept":0,"divideInteger-memory-arguments-minimum":1,"divideInteger-memory-arguments-slope":1,"encodeUtf8-cpu-arguments-intercept":1e3,"encodeUtf8-cpu-arguments-slope":28662,"encodeUtf8-memory-arguments-intercept":4,"encodeUtf8-memory-arguments-slope":2,"equalsByteString-cpu-arguments-constant":245e3,"equalsByteString-cpu-arguments-intercept":216773,"equalsByteString-cpu-arguments-slope":62,"equalsByteString-memory-arguments":1,"equalsData-cpu-arguments-intercept":1060367,"equalsData-cpu-arguments-slope":12586,"equalsData-memory-arguments":1,"equalsInteger-cpu-arguments-intercept":208512,"equalsInteger-cpu-arguments-slope":421,"equalsInteger-memory-arguments":1,"equalsString-cpu-arguments-constant":187e3,"equalsString-cpu-arguments-intercept":1e3,"equalsString-cpu-arguments-slope":52998,"equalsString-memory-arguments":1,"fstPair-cpu-arguments":80436,"fstPair-memory-arguments":32,"headList-cpu-arguments":43249,"headList-memory-arguments":32,"iData-cpu-arguments":1e3,"iData-memory-arguments":32,"ifThenElse-cpu-arguments":80556,"ifThenElse-memory-arguments":1,"indexByteString-cpu-arguments":57667,"indexByteString-memory-arguments":4,"lengthOfByteString-cpu-arguments":1e3,"lengthOfByteString-memory-arguments":10,"lessThanByteString-cpu-arguments-intercept":197145,"lessThanByteString-cpu-arguments-slope":156,"lessThanByteString-memory-arguments":1,"lessThanEqualsByteString-cpu-arguments-intercept":197145,"lessThanEqualsByteString-cpu-arguments-slope":156,"lessThanEqualsByteString-memory-arguments":1,"lessThanEqualsInteger-cpu-arguments-intercept":204924,"lessThanEqualsInteger-cpu-arguments-slope":473,"lessThanEqualsInteger-memory-arguments":1,"lessThanInteger-cpu-arguments-intercept":208896,"lessThanInteger-cpu-arguments-slope":511,"lessThanInteger-memory-arguments":1,"listData-cpu-arguments":52467,"listData-memory-arguments":32,"mapData-cpu-arguments":64832,"mapData-memory-arguments":32,"mkCons-cpu-arguments":65493,"mkCons-memory-arguments":32,"mkNilData-cpu-arguments":22558,"mkNilData-memory-arguments":32,"mkNilPairData-cpu-arguments":16563,"mkNilPairData-memory-arguments":32,"mkPairData-cpu-arguments":76511,"mkPairData-memory-arguments":32,"modInteger-cpu-arguments-constant":196500,"modInteger-cpu-arguments-model-arguments-intercept":453240,"modInteger-cpu-arguments-model-arguments-slope":220,"modInteger-memory-arguments-intercept":0,"modInteger-memory-arguments-minimum":1,"modInteger-memory-arguments-slope":1,"multiplyInteger-cpu-arguments-intercept":69522,"multiplyInteger-cpu-arguments-slope":11687,"multiplyInteger-memory-arguments-intercept":0,"multiplyInteger-memory-arguments-slope":1,"nullList-cpu-arguments":60091,"nullList-memory-arguments":32,"quotientInteger-cpu-arguments-constant":196500,"quotientInteger-cpu-arguments-model-arguments-intercept":453240,"quotientInteger-cpu-arguments-model-arguments-slope":220,"quotientInteger-memory-arguments-intercept":0,"quotientInteger-memory-arguments-minimum":1,"quotientInteger-memory-arguments-slope":1,"remainderInteger-cpu-arguments-constant":196500,"remainderInteger-cpu-arguments-model-arguments-intercept":453240,"remainderInteger-cpu-arguments-model-arguments-slope":220,"remainderInteger-memory-arguments-intercept":0,"remainderInteger-memory-arguments-minimum":1,"remainderInteger-memory-arguments-slope":1,"sha2_256-cpu-arguments-intercept":806990,"sha2_256-cpu-arguments-slope":30482,"sha2_256-memory-arguments":4,"sha3_256-cpu-arguments-intercept":1927926,"sha3_256-cpu-arguments-slope":82523,"sha3_256-memory-arguments":4,"sliceByteString-cpu-arguments-intercept":265318,"sliceByteString-cpu-arguments-slope":0,"sliceByteString-memory-arguments-intercept":4,"sliceByteString-memory-arguments-slope":0,"sndPair-cpu-arguments":85931,"sndPair-memory-arguments":32,"subtractInteger-cpu-arguments-intercept":205665,"subtractInteger-cpu-arguments-slope":812,"subtractInteger-memory-arguments-intercept":1,"subtractInteger-memory-arguments-slope":1,"tailList-cpu-arguments":41182,"tailList-memory-arguments":32,"trace-cpu-arguments":212342,"trace-memory-arguments":32,"unBData-cpu-arguments":31220,"unBData-memory-arguments":32,"unConstrData-cpu-arguments":32696,"unConstrData-memory-arguments":32,"unIData-cpu-arguments":43357,"unIData-memory-arguments":32,"unListData-cpu-arguments":32247,"unListData-memory-arguments":32,"unMapData-cpu-arguments":38314,"unMapData-memory-arguments":32,"verifyEd25519Signature-cpu-arguments-intercept":9462713,"verifyEd25519Signature-cpu-arguments-slope":1021,"verifyEd25519Signature-memory-arguments":10},PlutusV2:{"addInteger-cpu-arguments-intercept":205665,"addInteger-cpu-arguments-slope":812,"addInteger-memory-arguments-intercept":1,"addInteger-memory-arguments-slope":1,"appendByteString-cpu-arguments-intercept":1e3,"appendByteString-cpu-arguments-slope":571,"appendByteString-memory-arguments-intercept":0,"appendByteString-memory-arguments-slope":1,"appendString-cpu-arguments-intercept":1e3,"appendString-cpu-arguments-slope":24177,"appendString-memory-arguments-intercept":4,"appendString-memory-arguments-slope":1,"bData-cpu-arguments":1e3,"bData-memory-arguments":32,"blake2b_256-cpu-arguments-intercept":117366,"blake2b_256-cpu-arguments-slope":10475,"blake2b_256-memory-arguments":4,"cekApplyCost-exBudgetCPU":23e3,"cekApplyCost-exBudgetMemory":100,"cekBuiltinCost-exBudgetCPU":23e3,"cekBuiltinCost-exBudgetMemory":100,"cekConstCost-exBudgetCPU":23e3,"cekConstCost-exBudgetMemory":100,"cekDelayCost-exBudgetCPU":23e3,"cekDelayCost-exBudgetMemory":100,"cekForceCost-exBudgetCPU":23e3,"cekForceCost-exBudgetMemory":100,"cekLamCost-exBudgetCPU":23e3,"cekLamCost-exBudgetMemory":100,"cekStartupCost-exBudgetCPU":100,"cekStartupCost-exBudgetMemory":100,"cekVarCost-exBudgetCPU":23e3,"cekVarCost-exBudgetMemory":100,"chooseData-cpu-arguments":19537,"chooseData-memory-arguments":32,"chooseList-cpu-arguments":175354,"chooseList-memory-arguments":32,"chooseUnit-cpu-arguments":46417,"chooseUnit-memory-arguments":4,"consByteString-cpu-arguments-intercept":221973,"consByteString-cpu-arguments-slope":511,"consByteString-memory-arguments-intercept":0,"consByteString-memory-arguments-slope":1,"constrData-cpu-arguments":89141,"constrData-memory-arguments":32,"decodeUtf8-cpu-arguments-intercept":497525,"decodeUtf8-cpu-arguments-slope":14068,"decodeUtf8-memory-arguments-intercept":4,"decodeUtf8-memory-arguments-slope":2,"divideInteger-cpu-arguments-constant":196500,"divideInteger-cpu-arguments-model-arguments-intercept":453240,"divideInteger-cpu-arguments-model-arguments-slope":220,"divideInteger-memory-arguments-intercept":0,"divideInteger-memory-arguments-minimum":1,"divideInteger-memory-arguments-slope":1,"encodeUtf8-cpu-arguments-intercept":1e3,"encodeUtf8-cpu-arguments-slope":28662,"encodeUtf8-memory-arguments-intercept":4,"encodeUtf8-memory-arguments-slope":2,"equalsByteString-cpu-arguments-constant":245e3,"equalsByteString-cpu-arguments-intercept":216773,"equalsByteString-cpu-arguments-slope":62,"equalsByteString-memory-arguments":1,"equalsData-cpu-arguments-intercept":1060367,"equalsData-cpu-arguments-slope":12586,"equalsData-memory-arguments":1,"equalsInteger-cpu-arguments-intercept":208512,"equalsInteger-cpu-arguments-slope":421,"equalsInteger-memory-arguments":1,"equalsString-cpu-arguments-constant":187e3,"equalsString-cpu-arguments-intercept":1e3,"equalsString-cpu-arguments-slope":52998,"equalsString-memory-arguments":1,"fstPair-cpu-arguments":80436,"fstPair-memory-arguments":32,"headList-cpu-arguments":43249,"headList-memory-arguments":32,"iData-cpu-arguments":1e3,"iData-memory-arguments":32,"ifThenElse-cpu-arguments":80556,"ifThenElse-memory-arguments":1,"indexByteString-cpu-arguments":57667,"indexByteString-memory-arguments":4,"lengthOfByteString-cpu-arguments":1e3,"lengthOfByteString-memory-arguments":10,"lessThanByteString-cpu-arguments-intercept":197145,"lessThanByteString-cpu-arguments-slope":156,"lessThanByteString-memory-arguments":1,"lessThanEqualsByteString-cpu-arguments-intercept":197145,"lessThanEqualsByteString-cpu-arguments-slope":156,"lessThanEqualsByteString-memory-arguments":1,"lessThanEqualsInteger-cpu-arguments-intercept":204924,"lessThanEqualsInteger-cpu-arguments-slope":473,"lessThanEqualsInteger-memory-arguments":1,"lessThanInteger-cpu-arguments-intercept":208896,"lessThanInteger-cpu-arguments-slope":511,"lessThanInteger-memory-arguments":1,"listData-cpu-arguments":52467,"listData-memory-arguments":32,"mapData-cpu-arguments":64832,"mapData-memory-arguments":32,"mkCons-cpu-arguments":65493,"mkCons-memory-arguments":32,"mkNilData-cpu-arguments":22558,"mkNilData-memory-arguments":32,"mkNilPairData-cpu-arguments":16563,"mkNilPairData-memory-arguments":32,"mkPairData-cpu-arguments":76511,"mkPairData-memory-arguments":32,"modInteger-cpu-arguments-constant":196500,"modInteger-cpu-arguments-model-arguments-intercept":453240,"modInteger-cpu-arguments-model-arguments-slope":220,"modInteger-memory-arguments-intercept":0,"modInteger-memory-arguments-minimum":1,"modInteger-memory-arguments-slope":1,"multiplyInteger-cpu-arguments-intercept":69522,"multiplyInteger-cpu-arguments-slope":11687,"multiplyInteger-memory-arguments-intercept":0,"multiplyInteger-memory-arguments-slope":1,"nullList-cpu-arguments":60091,"nullList-memory-arguments":32,"quotientInteger-cpu-arguments-constant":196500,"quotientInteger-cpu-arguments-model-arguments-intercept":453240,"quotientInteger-cpu-arguments-model-arguments-slope":220,"quotientInteger-memory-arguments-intercept":0,"quotientInteger-memory-arguments-minimum":1,"quotientInteger-memory-arguments-slope":1,"remainderInteger-cpu-arguments-constant":196500,"remainderInteger-cpu-arguments-model-arguments-intercept":453240,"remainderInteger-cpu-arguments-model-arguments-slope":220,"remainderInteger-memory-arguments-intercept":0,"remainderInteger-memory-arguments-minimum":1,"remainderInteger-memory-arguments-slope":1,"serialiseData-cpu-arguments-intercept":1159724,"serialiseData-cpu-arguments-slope":392670,"serialiseData-memory-arguments-intercept":0,"serialiseData-memory-arguments-slope":2,"sha2_256-cpu-arguments-intercept":806990,"sha2_256-cpu-arguments-slope":30482,"sha2_256-memory-arguments":4,"sha3_256-cpu-arguments-intercept":1927926,"sha3_256-cpu-arguments-slope":82523,"sha3_256-memory-arguments":4,"sliceByteString-cpu-arguments-intercept":265318,"sliceByteString-cpu-arguments-slope":0,"sliceByteString-memory-arguments-intercept":4,"sliceByteString-memory-arguments-slope":0,"sndPair-cpu-arguments":85931,"sndPair-memory-arguments":32,"subtractInteger-cpu-arguments-intercept":205665,"subtractInteger-cpu-arguments-slope":812,"subtractInteger-memory-arguments-intercept":1,"subtractInteger-memory-arguments-slope":1,"tailList-cpu-arguments":41182,"tailList-memory-arguments":32,"trace-cpu-arguments":212342,"trace-memory-arguments":32,"unBData-cpu-arguments":31220,"unBData-memory-arguments":32,"unConstrData-cpu-arguments":32696,"unConstrData-memory-arguments":32,"unIData-cpu-arguments":43357,"unIData-memory-arguments":32,"unListData-cpu-arguments":32247,"unListData-memory-arguments":32,"unMapData-cpu-arguments":38314,"unMapData-memory-arguments":32,"verifyEcdsaSecp256k1Signature-cpu-arguments":0x223accc,"verifyEcdsaSecp256k1Signature-memory-arguments":10,"verifyEd25519Signature-cpu-arguments-intercept":0x374f693,"verifyEd25519Signature-cpu-arguments-slope":18975,"verifyEd25519Signature-memory-arguments":10,"verifySchnorrSecp256k1Signature-cpu-arguments-intercept":0x2515e84,"verifySchnorrSecp256k1Signature-cpu-arguments-slope":32947,"verifySchnorrSecp256k1Signature-memory-arguments":10}}};s()}catch(e){s(e)}})},76739:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{m:()=>u});var a=r(82061),n=r(39128),i=r(1945),o=e([a,n,i]);[a,n,i]=o.then?(await o)():o;class u{constructor(e,t){Object.defineProperty(this,"txComplete",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"witnessSetBuilder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tasks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lucid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fee",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exUnits",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.lucid=e,this.txComplete=t,this.witnessSetBuilder=a.C.TransactionWitnessSetBuilder.new(),this.tasks=[],this.fee=parseInt(t.body().fee().to_str());let r=t.witness_set().redeemers();if(r){let e={cpu:0,mem:0};for(let t=0;t<r.len();t++){let s=r.get(t);e.cpu+=parseInt(s.ex_units().steps().to_str()),e.mem+=parseInt(s.ex_units().mem().to_str())}this.exUnits=e}}sign(){return this.tasks.push(async()=>{let e=await this.lucid.wallet.signTx(this.txComplete);this.witnessSetBuilder.add_existing(e)}),this}signWithPrivateKey(e){let t=a.C.PrivateKey.from_bech32(e),r=a.C.make_vkey_witness(a.C.hash_transaction(this.txComplete.body()),t);return this.witnessSetBuilder.add_vkey(r),this}async partialSign(){let e=await this.lucid.wallet.signTx(this.txComplete);return this.witnessSetBuilder.add_existing(e),(0,i.nj)(e.to_bytes())}partialSignWithPrivateKey(e){let t=a.C.PrivateKey.from_bech32(e),r=a.C.make_vkey_witness(a.C.hash_transaction(this.txComplete.body()),t);this.witnessSetBuilder.add_vkey(r);let s=a.C.TransactionWitnessSetBuilder.new();return s.add_vkey(r),(0,i.nj)(s.build().to_bytes())}assemble(e){return e.forEach(e=>{let t=a.C.TransactionWitnessSet.from_bytes((0,i.aD)(e));this.witnessSetBuilder.add_existing(t)}),this}async complete(){for(let e of this.tasks)await e();this.witnessSetBuilder.add_existing(this.txComplete.witness_set());let e=a.C.Transaction.new(this.txComplete.body(),this.witnessSetBuilder.build(),this.txComplete.auxiliary_data());return new n.X(this.lucid,e)}toString(){return(0,i.nj)(this.txComplete.to_bytes())}toHash(){return a.C.hash_transaction(this.txComplete.body()).to_hex()}}s()}catch(e){s(e)}})},77022:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{U:()=>u});var a=r(6652),n=r(1945),i=r(67960),o=e([a,n,i]);[a,n,i]=o.then?(await o)():o;class u{constructor(e,t=n.a6){Object.defineProperty(this,"ledger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mempool",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"chain",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"blockHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"slot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"protocolParameters",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datumTable",{enumerable:!0,configurable:!0,writable:!0,value:{}});let r="00".repeat(32);this.blockHeight=0,this.slot=0,this.time=Date.now(),this.ledger={},e.forEach(({address:e,assets:t,outputData:s},n)=>{if([s?.hash,s?.asHash,s?.inline].filter(e=>e).length>1)throw Error("Not allowed to set hash, asHash and inline at the same time.");this.ledger[r+n]={utxo:{txHash:r,outputIndex:n,address:e,assets:t,datumHash:s?.asHash?a.C.hash_plutus_data(a.C.PlutusData.from_bytes((0,i.aD)(s.asHash))).to_hex():s?.hash,datum:s?.inline,scriptRef:s?.scriptRef},spent:!1}}),this.protocolParameters=t}now(){return this.time}awaitSlot(e=1){this.slot+=e,this.time+=1e3*e;let t=this.blockHeight;if(this.blockHeight=Math.floor(this.slot/20),this.blockHeight>t){for(let[e,{utxo:t,spent:r}]of Object.entries(this.mempool))this.ledger[e]={utxo:t,spent:r};for(let[e,{spent:t}]of Object.entries(this.ledger))t&&delete this.ledger[e];this.mempool={}}}awaitBlock(e=1){for(let[t,{utxo:r,spent:s}]of(this.blockHeight+=e,this.slot+=20*e,this.time+=2e4*e,Object.entries(this.mempool)))this.ledger[t]={utxo:r,spent:s};for(let[e,{spent:t}]of Object.entries(this.ledger))t&&delete this.ledger[e];this.mempool={}}getUtxos(e){let t=Object.values(this.ledger).flatMap(({utxo:t})=>{if("string"==typeof e)return e===t.address?t:[];{let{paymentCredential:r}=(0,i.TZ)(t.address);return r?.hash===e.hash?t:[]}});return Promise.resolve(t)}getProtocolParameters(){return Promise.resolve(this.protocolParameters)}getDatum(e){return Promise.resolve(this.datumTable[e])}getUtxosWithUnit(e,t){let r=Object.values(this.ledger).flatMap(({utxo:r})=>{if("string"==typeof e)return e===r.address&&r.assets[t]>0n?r:[];{let{paymentCredential:s}=(0,i.TZ)(r.address);return s?.hash===e.hash&&r.assets[t]>0n?r:[]}});return Promise.resolve(r)}getUtxosByOutRef(e){return Promise.resolve(e.flatMap(e=>this.ledger[e.txHash+e.outputIndex]?.utxo||[]))}getUtxoByUnit(e){let t=Object.values(this.ledger).flatMap(({utxo:t})=>t.assets[e]>0n?t:[]);if(t.length>1)throw Error("Unit needs to be an NFT or only held by one address.");return Promise.resolve(t[0])}getDelegation(e){return Promise.resolve({poolId:this.chain[e]?.delegation?.poolId||null,rewards:this.chain[e]?.delegation?.rewards||0n})}awaitTx(e){return this.mempool[e+0]&&this.awaitBlock(),Promise.resolve(!0)}distributeRewards(e){for(let[t,{registeredStake:r,delegation:s}]of Object.entries(this.chain))r&&s.poolId&&(this.chain[t]={registeredStake:r,delegation:{poolId:s.poolId,rewards:s.rewards+=e}});this.awaitBlock()}submitTx(e){let t=a.C.Transaction.from_bytes((0,i.aD)(e)),r=t.body(),s=t.witness_set(),n=s.plutus_data(),o=a.C.hash_transaction(r).to_hex(),u=r.validity_start_interval()?parseInt(r.validity_start_interval().to_str()):null,l=r.ttl()?parseInt(r.ttl().to_str()):null;if(Number.isInteger(u)&&this.slot<u)throw Error(`Lower bound (${u}) not in slot range (${this.slot}).`);if(Number.isInteger(l)&&this.slot>l)throw Error(`Upper bound (${l}) not in slot range (${this.slot}).`);let c=(()=>{let e={};for(let t=0;t<(n?.len()||0);t++){let r=n.get(t);e[a.C.hash_plutus_data(r).to_hex()]=(0,i.nj)(r.to_bytes())}return e})(),h=new Set,d=(()=>{let e=[];for(let t=0;t<(s.vkeys()?.len()||0);t++){let r=s.vkeys().get(t),a=r.vkey().public_key(),n=a.hash().to_hex();if(!a.verify((0,i.aD)(o),r.signature()))throw Error(`Invalid vkey witness. Key hash: ${n}`);e.push(n)}return e})(),f=a.C.Ed25519KeyHashes.new();d.forEach(e=>f.add(a.C.Ed25519KeyHash.from_hex(e)));let p=(()=>{let e=[];for(let t=0;t<(s.native_scripts()?.len()||0);t++){let r=s.native_scripts().get(t),n=r.hash(a.C.ScriptHashNamespace.NativeScript).to_hex();if(!r.verify(Number.isInteger(u)?a.C.BigNum.from_str(u.toString()):void 0,Number.isInteger(l)?a.C.BigNum.from_str(l.toString()):void 0,f))throw Error(`Invalid native script witness. Script hash: ${n}`);for(let e=0;e<r.get_required_signers().len();e++){let t=r.get_required_signers().get(e).to_hex();h.add(t)}e.push(n)}return e})(),m={},g=[],y=(()=>{let e=[];for(let t=0;t<(s.plutus_scripts()?.len()||0);t++){let r=s.plutus_scripts().get(t).hash(a.C.ScriptHashNamespace.PlutusV1).to_hex();e.push(r)}for(let t=0;t<(s.plutus_v2_scripts()?.len()||0);t++){let r=s.plutus_v2_scripts().get(t).hash(a.C.ScriptHashNamespace.PlutusV2).to_hex();e.push(r)}return e})(),b=r.inputs();b.sort();let w=[];for(let e=0;e<b.len();e++){let t=b.get(e),r=t.transaction_id().to_hex()+t.index().to_str(),s=this.ledger[r],{entry:n,type:o}=s?{entry:s,type:"Ledger"}:{entry:this.mempool[r],type:"Mempool"};if(!n||n.spent)throw Error(`Could not spend UTxO: ${JSON.stringify({txHash:n?.utxo.txHash,outputIndex:n?.utxo.outputIndex})}
It does not exist or was already spent.`);let u=n.utxo.scriptRef;if(u)switch(u.type){case"Native":{let e=a.C.NativeScript.from_bytes((0,i.aD)(u.script));m[e.hash(a.C.ScriptHashNamespace.NativeScript).to_hex()]=e;break}case"PlutusV1":{let e=a.C.PlutusScript.from_bytes((0,i.aD)(u.script));g.push(e.hash(a.C.ScriptHashNamespace.PlutusV1).to_hex());break}case"PlutusV2":{let e=a.C.PlutusScript.from_bytes((0,i.aD)(u.script));g.push(e.hash(a.C.ScriptHashNamespace.PlutusV2).to_hex())}}n.utxo.datumHash&&h.add(n.utxo.datumHash),w.push({entry:n,type:o})}for(let e=0;e<(r.reference_inputs()?.len()||0);e++){let t=r.reference_inputs().get(e),s=t.transaction_id().to_hex()+t.index().to_str(),n=this.ledger[s]||this.mempool[s];if(!n||n.spent)throw Error(`Could not read UTxO: ${JSON.stringify({txHash:n?.utxo.txHash,outputIndex:n?.utxo.outputIndex})}
It does not exist or was already spent.`);let o=n.utxo.scriptRef;if(o)switch(o.type){case"Native":{let e=a.C.NativeScript.from_bytes((0,i.aD)(o.script));m[e.hash(a.C.ScriptHashNamespace.NativeScript).to_hex()]=e;break}case"PlutusV1":{let e=a.C.PlutusScript.from_bytes((0,i.aD)(o.script));g.push(e.hash(a.C.ScriptHashNamespace.PlutusV1).to_hex());break}case"PlutusV2":{let e=a.C.PlutusScript.from_bytes((0,i.aD)(o.script));g.push(e.hash(a.C.ScriptHashNamespace.PlutusV2).to_hex())}}n.utxo.datumHash&&h.add(n.utxo.datumHash)}let _=(()=>{let e={0:"Spend",1:"Mint",2:"Cert",3:"Reward"},t=[];for(let r=0;r<(s.redeemers()?.len()||0);r++){let a=s.redeemers().get(r);t.push({tag:e[a.tag().kind()],index:parseInt(a.index().to_str())})}return t})();function v(e,t,r){switch(e.type){case"Key":if(!d.includes(e.hash))throw Error(`Missing vkey witness. Key hash: ${e.hash}`);h.add(e.hash);break;case"Script":if(p.includes(e.hash)){h.add(e.hash);break}if(m[e.hash]){if(!m[e.hash].verify(Number.isInteger(u)?a.C.BigNum.from_str(u.toString()):void 0,Number.isInteger(l)?a.C.BigNum.from_str(l.toString()):void 0,f))throw Error(`Invalid native script witness. Script hash: ${e.hash}`);break}if((y.includes(e.hash)||g.includes(e.hash))&&_.find(e=>e.tag===t&&e.index===r)){h.add(e.hash);break}throw Error(`Missing script witness. Script hash: ${e.hash}`)}}for(let e=0;e<(r.collateral()?.len()||0);e++){let t=r.collateral().get(e),s=t.transaction_id().to_hex()+t.index().to_str(),a=this.ledger[s]||this.mempool[s];if(!a||a.spent)throw Error(`Could not read UTxO: ${JSON.stringify({txHash:a?.utxo.txHash,outputIndex:a?.utxo.outputIndex})}
It does not exist or was already spent.`);let{paymentCredential:n}=(0,i.TZ)(a.utxo.address);if(n?.type==="Script")throw Error("Collateral inputs can only contain vkeys.");v(n,null,null)}for(let e=0;e<(r.required_signers()?.len()||0);e++){let t=r.required_signers().get(e);v({type:"Key",hash:t.to_hex()},null,null)}for(let e=0;e<(r.mint()?.keys().len()||0);e++){let t=r.mint().keys().get(e).to_hex();v({type:"Script",hash:t},"Mint",e)}let C=[];for(let e=0;e<(r.withdrawals()?.keys().len()||0);e++){let t=r.withdrawals().keys().get(e),s=BigInt(r.withdrawals().get(t).to_str()),a=t.to_address().to_bech32(void 0),{stakeCredential:n}=(0,i.TZ)(a);if(v(n,"Reward",e),this.chain[a]?.delegation.rewards!==s)throw Error("Withdrawal amount doesn't match actual reward balance.");C.push({rewardAddress:a,withdrawal:s})}let x=[];for(let e=0;e<(r.certs()?.len()||0);e++){let t=r.certs().get(e);switch(t.kind()){case 0:{let e=t.as_stake_registration(),r=a.C.RewardAddress.new(a.C.NetworkInfo.testnet().network_id(),e.stake_credential()).to_address().to_bech32(void 0);if(this.chain[r]?.registeredStake)throw Error(`Stake key is already registered. Reward address: ${r}`);x.push({type:"Registration",rewardAddress:r});break}case 1:{let r=t.as_stake_deregistration(),s=a.C.RewardAddress.new(a.C.NetworkInfo.testnet().network_id(),r.stake_credential()).to_address().to_bech32(void 0),{stakeCredential:n}=(0,i.TZ)(s);if(v(n,"Cert",e),!this.chain[s]?.registeredStake)throw Error(`Stake key is already deregistered. Reward address: ${s}`);x.push({type:"Deregistration",rewardAddress:s});break}case 2:{let r=t.as_stake_delegation(),s=a.C.RewardAddress.new(a.C.NetworkInfo.testnet().network_id(),r.stake_credential()).to_address().to_bech32(void 0),n=r.pool_keyhash().to_bech32("pool"),{stakeCredential:o}=(0,i.TZ)(s);if(v(o,"Cert",e),!this.chain[s]?.registeredStake&&!x.find(e=>"Registration"===e.type&&e.rewardAddress===s))throw Error(`Stake key is not registered. Reward address: ${s}`);x.push({type:"Delegation",rewardAddress:s,poolId:n})}}}w.forEach(({entry:{utxo:e}},t)=>{let{paymentCredential:r}=(0,i.TZ)(e.address);v(r,"Spend",t)});let k=(()=>{let e=[];for(let t=0;t<r.outputs().len();t++){let s=r.outputs().get(t),n=a.C.TransactionUnspentOutput.new(a.C.TransactionInput.new(a.C.TransactionHash.from_hex(o),a.C.BigNum.from_str(t.toString())),s),u=(0,i.V$)(n);u.datumHash&&h.add(u.datumHash),e.push({utxo:u,spent:!1})}return e})(),[S]=d.filter(e=>!h.has(e));if(S)throw Error(`Extraneous vkey witness. Key hash: ${S}`);let[E]=p.filter(e=>!h.has(e));if(E)throw Error(`Extraneous native script. Script hash: ${E}`);let[B]=y.filter(e=>!h.has(e));if(B)throw Error(`Extraneous plutus script. Script hash: ${B}`);let[I]=Object.keys(c).filter(e=>!h.has(e));if(I)throw Error(`Extraneous plutus data. Datum hash: ${I}`);for(let[e,t]of(w.forEach(({entry:e,type:t})=>{let r=e.utxo.txHash+e.utxo.outputIndex;e.spent=!0,"Ledger"===t?this.ledger[r]=e:"Mempool"===t&&(this.mempool[r]=e)}),C.forEach(({rewardAddress:e,withdrawal:t})=>{this.chain[e].delegation.rewards-=t}),x.forEach(({type:e,rewardAddress:t,poolId:r})=>{switch(e){case"Registration":this.chain[t]?this.chain[t].registeredStake=!0:this.chain[t]={registeredStake:!0,delegation:{poolId:null,rewards:0n}};break;case"Deregistration":this.chain[t].registeredStake=!1,this.chain[t].delegation.poolId=null;break;case"Delegation":this.chain[t].delegation.poolId=r}}),k.forEach(({utxo:e,spent:t})=>{this.mempool[e.txHash+e.outputIndex]={utxo:e,spent:t}}),Object.entries(c)))this.datumTable[e]=t;return Promise.resolve(o)}log(){let e={},t={};for(let{utxo:r}of Object.values(this.ledger))for(let[s,a]of Object.entries(r.assets))t[r.address]?t[r.address]?.[s]?t[r.address][s]+=a:t[r.address][s]=a:t[r.address]={[s]:a},e[s]?e[s]+=a:e[s]=a;for(let[r,s]of(console.log("\n%cBlockchain state","color:purple"),console.log(`
    Block height:   %c${this.blockHeight}%c
    Slot:           %c${this.slot}%c
    Unix time:      %c${this.time}
  `,"color:yellow","color:white","color:yellow","color:white","color:yellow"),console.log("\n"),Object.entries(t))){for(let[t,a]of(console.log(`Address: %c${r}`,"color:blue","\n"),Object.entries(s))){let r=Math.max(Math.floor(60*(Number(a)/Number(e[t]))),1);console.log(`%c${"".repeat(r)+" ".repeat(60-r)}`,`color: ${function(e){let t="lovelace"===e?"1":e,r=0;for(let e=0;e<t.length;e++)r+=t.charCodeAt(e);let s=123*r%256,a=321*r%256,n=213*r%256;return"#"+(0x1000000+(s<<16)+(a<<8)+n).toString(16).slice(1)}(t)}`,"",`${t}:`,a,"")}console.log(`
${"".repeat(60)}
`)}}}s()}catch(e){s(e)}})},80601:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{w:()=>l,x:()=>o});var a=r(91508),n=r(1945),i=e([n]);n=(i.then?(await i)():i)[0];let p="Invalid mnemonic",m="Invalid entropy",g="A wordlist is required but a default could not be found.\nPlease pass a 2048 word array explicitly.";function o(e,t){if(!(t=t||y))throw Error(g);let r=(e||"").normalize("NFKD").split(" ");if(r.length%3!=0)throw Error(p);let s=r.map(e=>{let r=t.indexOf(e);if(-1===r)throw Error(p);return h(r.toString(2),"0",11)}).join(""),a=32*Math.floor(s.length/33),i=s.slice(0,a),o=s.slice(a),u=i.match(/(.{1,8})/g).map(f);if(u.length<16||u.length>32||u.length%4!=0)throw Error(m);let l=new Uint8Array(u);if(c(l)!==o)throw Error("Invalid mnemonic checksum");return(0,n.nj)(l)}function u(e){let t=new Uint8Array(e);if(e>0xffffffff)throw RangeError("requested too many random bytes");if(e>0){if(e>65536)for(let r=0;r<e;r+=65536)crypto.getRandomValues(t.slice(r,r+65536));else crypto.getRandomValues(t)}return t}function l(e,t,r){if((e=e||128)%32!=0)throw TypeError(m);return t=t||u,function(e,t){if(!(t=t||y))throw Error(g);if(e.length<16||e.length>32||e.length%4!=0)throw TypeError(m);let r=d(Array.from(e)),s=c(e),a=(r+s).match(/(.{1,11})/g).map(e=>t[f(e)]);return""===t[0]?a.join(""):a.join(" ")}(t(e/8),r)}function c(e){let t=8*e.length,r=new a.I().update(e).digest();return d(Array.from(r)).slice(0,t/32)}function h(e,t,r){for(;e.length<r;)e=t+e;return e}function d(e){return e.map(e=>h(e.toString(2),"0",8)).join("")}function f(e){return parseInt(e,2)}let y=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];s()}catch(e){s(e)}})},81729:()=>{"use strict";Object.hasOwn||Object.defineProperty(Object,"hasOwn",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)},configurable:!0,enumerable:!1,writable:!0})},82061:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{C:()=>a.C,M:()=>a.M});var a=r(6652),n=e([a]);a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},84067:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{R:()=>o,Y:()=>u});var a=r(65279),n=r(80601),i=e([a,n]);function o(e,t={addressType:"Base",accountIndex:0,network:"Mainnet"}){function r(e){if("number"!=typeof e)throw Error("Type number required here!");return 0x80000000+e}let s=(0,n.x)(e),i=a.C.Bip32PrivateKey.from_bip39_entropy((0,a.aD)(s),t.password?new TextEncoder().encode(t.password):new Uint8Array).derive(r(1852)).derive(r(1815)).derive(r(t.accountIndex)),u=i.derive(0).derive(0).to_raw_key(),l=i.derive(2).derive(0).to_raw_key(),c=u.to_public().hash(),h=l.to_public().hash(),d=+("Mainnet"===t.network),f="Base"===t.addressType?a.C.BaseAddress.new(d,a.C.StakeCredential.from_keyhash(c),a.C.StakeCredential.from_keyhash(h)).to_address().to_bech32(void 0):a.C.EnterpriseAddress.new(d,a.C.StakeCredential.from_keyhash(c)).to_address().to_bech32(void 0),p="Base"===t.addressType?a.C.RewardAddress.new(d,a.C.StakeCredential.from_keyhash(h)).to_address().to_bech32(void 0):null;return{address:f,rewardAddress:p,paymentKey:u.to_bech32(),stakeKey:"Base"===t.addressType?l.to_bech32():null}}function u(e,t,r){let s=[],n=e.body().inputs();for(let e=0;e<n.len();e++){let t=n.get(e),i=(0,a.nj)(t.transaction_id().to_bytes()),o=parseInt(t.index().to_str()),u=r.find(e=>e.txHash===i&&e.outputIndex===o);if(u){let{paymentCredential:e}=(0,a.TZ)(u.address);s.push(e?.hash)}}let i=e.body();i.certs()&&function(e){let t=e.certs();if(t)for(let e=0;e<t.len();e++){let r=t.get(e);if(0===r.kind()){let e=r.as_stake_registration()?.stake_credential();e?.kind()}else if(1===r.kind()){let e=r.as_stake_deregistration()?.stake_credential();if(e?.kind()===0){let t=(0,a.nj)(e.to_keyhash().to_bytes());s.push(t)}}else if(2===r.kind()){let e=r.as_stake_delegation()?.stake_credential();if(e?.kind()===0){let t=(0,a.nj)(e.to_keyhash().to_bytes());s.push(t)}}else if(3===r.kind()){let e=r.as_pool_registration()?.pool_params(),t=e?.pool_owners();if(!t)break;for(let e=0;e<t.len();e++){let r=(0,a.nj)(t.get(e).to_bytes());s.push(r)}let n=e.operator().to_hex();s.push(n)}else if(4===r.kind()){let e=r.as_pool_retirement().pool_keyhash().to_hex();s.push(e)}else if(6===r.kind()){let e=r.as_move_instantaneous_rewards_cert()?.move_instantaneous_reward().as_to_stake_creds()?.keys();if(!e)break;for(let t=0;t<e.len();t++){let r=e.get(t);if(0===r.kind()){let e=(0,a.nj)(r.to_keyhash().to_bytes());s.push(e)}}}}}(i);let o=i.withdrawals();o&&function(e){let t=e.keys();for(let e=0;e<t.len();e++){let r=t.get(e).payment_cred();0===r.kind()&&s.push(r.to_keyhash().to_hex())}}(o);let u=e.witness_set().native_scripts();u&&function e(t){for(let r=0;r<t.len();r++){let n=t.get(r);if(0===n.kind()){let e=(0,a.nj)(n.as_script_pubkey().addr_keyhash().to_bytes());s.push(e)}if(1===n.kind()){e(n.as_script_all().native_scripts());return}if(2===n.kind()){e(n.as_script_any().native_scripts());return}if(3===n.kind()){e(n.as_script_n_of_k().native_scripts());return}}}(u);let l=i.required_signers();if(l)for(let e=0;e<l.len();e++)s.push((0,a.nj)(l.get(e).to_bytes()));let c=i.collateral();if(c)for(let e=0;e<c.len();e++){let t=c.get(e),n=(0,a.nj)(t.transaction_id().to_bytes()),i=parseInt(t.index().to_str()),o=r.find(e=>e.txHash===n&&e.outputIndex===i);if(o){let{paymentCredential:e}=(0,a.TZ)(o.address);s.push(e?.hash)}}return s.filter(e=>t.includes(e))}[a,n]=i.then?(await i)():i,s()}catch(e){s(e)}})},91508:(e,t,r)=>{"use strict";r.d(t,{I:()=>I});var s,a,n,i,o,u,l,c,h,d,f,p,m,g,y,b,w,_,v=function(e,t,r,s,a){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(e,r):a?a.value=r:t.set(e,r),r},C=function(e,t,r,s){if("a"===r&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};let x="0123456789abcdef".split(""),k=[-0x80000000,8388608,32768,128],S=[24,16,8,0],E=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],B=[];class I{constructor(e=!1,t=!1){s.set(this,void 0),a.set(this,void 0),n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),u.set(this,void 0),l.set(this,void 0),c.set(this,void 0),h.set(this,void 0),d.set(this,void 0),f.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),b.set(this,void 0),w.set(this,0),_.set(this,void 0),this.init(e,t)}init(e,t){t?(B[0]=B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0,v(this,a,B,"f")):v(this,a,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"f"),e?(v(this,u,0xc1059ed8,"f"),v(this,l,0x367cd507,"f"),v(this,c,0x3070dd17,"f"),v(this,h,0xf70e5939,"f"),v(this,d,0xffc00b31,"f"),v(this,f,0x68581511,"f"),v(this,p,0x64f98fa7,"f"),v(this,m,0xbefa4fa4,"f")):(v(this,u,0x6a09e667,"f"),v(this,l,0xbb67ae85,"f"),v(this,c,0x3c6ef372,"f"),v(this,h,0xa54ff53a,"f"),v(this,d,0x510e527f,"f"),v(this,f,0x9b05688c,"f"),v(this,p,0x1f83d9ab,"f"),v(this,m,0x5be0cd19,"f")),v(this,s,v(this,_,v(this,n,v(this,y,0,"f"),"f"),"f"),"f"),v(this,i,v(this,g,!1,"f"),"f"),v(this,o,!0,"f"),v(this,b,e,"f")}update(e){let t;if(C(this,i,"f"))return this;t=e instanceof ArrayBuffer?new Uint8Array(e):e;let r=0,o=t.length,u=C(this,a,"f");for(;r<o;){let e;if(C(this,g,"f")&&(v(this,g,!1,"f"),u[0]=C(this,s,"f"),u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),"string"!=typeof t)for(e=C(this,_,"f");r<o&&e<64;++r)u[e>>2]|=t[r]<<S[3&e++];else for(e=C(this,_,"f");r<o&&e<64;++r){let s=t.charCodeAt(r);s<128?u[e>>2]|=s<<S[3&e++]:(s<2048?u[e>>2]|=(192|s>>6)<<S[3&e++]:(s<55296||s>=57344?u[e>>2]|=(224|s>>12)<<S[3&e++]:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++r)),u[e>>2]|=(240|s>>18)<<S[3&e++],u[e>>2]|=(128|s>>12&63)<<S[3&e++]),u[e>>2]|=(128|s>>6&63)<<S[3&e++]),u[e>>2]|=(128|63&s)<<S[3&e++])}v(this,w,e,"f"),v(this,n,C(this,n,"f")+(e-C(this,_,"f")),"f"),e>=64?(v(this,s,u[16],"f"),v(this,_,e-64,"f"),this.hash(),v(this,g,!0,"f")):v(this,_,e,"f")}return C(this,n,"f")>0xffffffff&&(v(this,y,C(this,y,"f")+(C(this,n,"f")/0x100000000<<0),"f"),v(this,n,C(this,n,"f")%0x100000000,"f")),this}finalize(){if(C(this,i,"f"))return;v(this,i,!0,"f");let e=C(this,a,"f"),t=C(this,w,"f");e[16]=C(this,s,"f"),e[t>>2]|=k[3&t],v(this,s,e[16],"f"),t>=56&&(C(this,g,"f")||this.hash(),e[0]=C(this,s,"f"),e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=C(this,y,"f")<<3|C(this,n,"f")>>>29,e[15]=C(this,n,"f")<<3,this.hash()}hash(){let e,t,r,s,n,i,g,y,w,_,x=C(this,u,"f"),k=C(this,l,"f"),S=C(this,c,"f"),B=C(this,h,"f"),I=C(this,d,"f"),T=C(this,f,"f"),O=C(this,p,"f"),A=C(this,m,"f"),U=C(this,a,"f");for(let r=16;r<64;++r)e=((s=U[r-15])>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t=((s=U[r-2])>>>17|s<<15)^(s>>>19|s<<13)^s>>>10,U[r]=U[r-16]+e+U[r-7]+t<<0;_=k&S;for(let a=0;a<64;a+=4)C(this,o,"f")?(C(this,b,"f")?(g=300032,A=(s=U[0]-0x543c9a5b)-0x8f1a6c7<<0,B=s+0x170e9b5<<0):(g=0x2a01a605,A=(s=U[0]-0xc881298)-0x5ab00ac6<<0,B=s+0x8909ae5<<0),v(this,o,!1,"f")):(e=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),t=(I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7),r=(g=x&k)^x&S^_,s=A+t+(I&T^~I&O)+E[a]+U[a],n=e+r,A=B+s<<0,B=s+n<<0),e=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),t=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),r=(y=B&x)^B&k^g,s=O+t+(A&I^~A&T)+E[a+1]+U[a+1],n=e+r,O=S+s<<0,e=((S=s+n<<0)>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),t=(O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7),r=(w=S&B)^S&x^y,s=T+t+(O&A^~O&I)+E[a+2]+U[a+2],n=e+r,T=k+s<<0,e=((k=s+n<<0)>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),t=(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7),r=(_=k&S)^k&B^w,s=I+t+(T&O^~T&A)+E[a+3]+U[a+3],n=e+r,I=x+s<<0,x=s+n<<0;v(this,u,C(this,u,"f")+x<<0,"f"),v(this,l,C(this,l,"f")+k<<0,"f"),v(this,c,C(this,c,"f")+S<<0,"f"),v(this,h,C(this,h,"f")+B<<0,"f"),v(this,d,C(this,d,"f")+I<<0,"f"),v(this,f,C(this,f,"f")+T<<0,"f"),v(this,p,C(this,p,"f")+O<<0,"f"),v(this,m,C(this,m,"f")+A<<0,"f")}hex(){this.finalize();let e=C(this,u,"f"),t=C(this,l,"f"),r=C(this,c,"f"),s=C(this,h,"f"),a=C(this,d,"f"),n=C(this,f,"f"),i=C(this,p,"f"),o=C(this,m,"f"),g=x[e>>28&15]+x[e>>24&15]+x[e>>20&15]+x[e>>16&15]+x[e>>12&15]+x[e>>8&15]+x[e>>4&15]+x[15&e]+x[t>>28&15]+x[t>>24&15]+x[t>>20&15]+x[t>>16&15]+x[t>>12&15]+x[t>>8&15]+x[t>>4&15]+x[15&t]+x[r>>28&15]+x[r>>24&15]+x[r>>20&15]+x[r>>16&15]+x[r>>12&15]+x[r>>8&15]+x[r>>4&15]+x[15&r]+x[s>>28&15]+x[s>>24&15]+x[s>>20&15]+x[s>>16&15]+x[s>>12&15]+x[s>>8&15]+x[s>>4&15]+x[15&s]+x[a>>28&15]+x[a>>24&15]+x[a>>20&15]+x[a>>16&15]+x[a>>12&15]+x[a>>8&15]+x[a>>4&15]+x[15&a]+x[n>>28&15]+x[n>>24&15]+x[n>>20&15]+x[n>>16&15]+x[n>>12&15]+x[n>>8&15]+x[n>>4&15]+x[15&n]+x[i>>28&15]+x[i>>24&15]+x[i>>20&15]+x[i>>16&15]+x[i>>12&15]+x[i>>8&15]+x[i>>4&15]+x[15&i];return C(this,b,"f")||(g+=x[o>>28&15]+x[o>>24&15]+x[o>>20&15]+x[o>>16&15]+x[o>>12&15]+x[o>>8&15]+x[o>>4&15]+x[15&o]),g}toString(){return this.hex()}digest(){this.finalize();let e=C(this,u,"f"),t=C(this,l,"f"),r=C(this,c,"f"),s=C(this,h,"f"),a=C(this,d,"f"),n=C(this,f,"f"),i=C(this,p,"f"),o=C(this,m,"f"),g=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,a>>24&255,a>>16&255,a>>8&255,255&a,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i];return C(this,b,"f")||g.push(o>>24&255,o>>16&255,o>>8&255,255&o),g}array(){return this.digest()}arrayBuffer(){this.finalize();let e=new ArrayBuffer(C(this,b,"f")?28:32),t=new DataView(e);return t.setUint32(0,C(this,u,"f")),t.setUint32(4,C(this,l,"f")),t.setUint32(8,C(this,c,"f")),t.setUint32(12,C(this,h,"f")),t.setUint32(16,C(this,d,"f")),t.setUint32(20,C(this,f,"f")),t.setUint32(24,C(this,p,"f")),C(this,b,"f")||t.setUint32(28,C(this,m,"f")),e}}s=new WeakMap,a=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,_=new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap},96022:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,n=u(e),i=n[0],o=n[1],l=new a((i+o)*3/4-o),c=0,h=o>0?i-4:i;for(r=0;r<h;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,s=e.length,a=s%3,n=[],i=0,o=s-a;i<o;i+=16383)n.push(function(e,t,s){for(var a,n=[],i=t;i<s;i+=3)a=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),n.push(r[a>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return n.join("")}(e,i,i+16383>o?o:i+16383));return 1===a?n.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===a&&n.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),n.join("")};for(var r=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)r[i]=n[i],s[n.charCodeAt(i)]=i;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},98209:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{yN:()=>a.y});var a=r(10728),n=r(60899),i=r(76739),o=r(39128),u=e([a,n,i,o]);[a,n,i,o]=u.then?(await u)():u,s()}catch(e){s(e)}})},98845:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{B:()=>w});var a=r(49477),n=r(82061),i=r(67960),o=e([n,i]);[n,i]=o.then?(await o)():o;class b{constructor(e,t){Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.index=e,this.fields=t}}let w={Integer:function(e){let t=a.ZU.Unsafe({dataType:"integer"});return e&&Object.entries(e).forEach(([e,r])=>{t[e]=r}),t},Bytes:function(e){let t=a.ZU.Unsafe({dataType:"bytes"});return e&&Object.entries(e).forEach(([e,r])=>{t[e]=r}),t},Boolean:function(){return a.ZU.Unsafe({anyOf:[{title:"False",dataType:"constructor",index:0,fields:[]},{title:"True",dataType:"constructor",index:1,fields:[]}]})},Any:function(){return a.ZU.Unsafe({description:"Any Data."})},Array:function(e,t){let r=a.ZU.Array(e);return y(r,{dataType:"list",items:e}),t&&Object.entries(t).forEach(([e,t])=>{r[e]=t}),r},Map:function(e,t,r){let s=a.ZU.Unsafe({dataType:"map",keys:e,values:t});return r&&Object.entries(r).forEach(([e,t])=>{s[e]=t}),s},Object:function(e,t){let r=a.ZU.Object(e);return y(r,{anyOf:[{dataType:"constructor",index:0,fields:Object.entries(e).map(([e,t])=>({...t,title:e}))}]}),r.anyOf[0].hasConstr=void 0===t?.hasConstr||t.hasConstr,r},Enum:function(e){let t=a.ZU.Union(e);return y(t,{anyOf:e.map((e,t)=>0===e.anyOf[0].fields.length?{...e.anyOf[0],index:t}:{dataType:"constructor",title:(()=>{let t=e.anyOf[0].fields[0].title;if(t.charAt(0)!==t.charAt(0).toUpperCase())throw Error(`Enum '${t}' needs to start with an uppercase letter.`);return e.anyOf[0].fields[0].title})(),index:t,fields:e.anyOf[0].fields[0].items||e.anyOf[0].fields[0].anyOf[0].fields})}),t},Tuple:function(e,t){let r=a.ZU.Tuple(e);return y(r,{dataType:"list",items:e}),t&&Object.entries(t).forEach(([e,t])=>{r[e]=t}),r},Literal:function(e){if(e.charAt(0)!==e.charAt(0).toUpperCase())throw Error(`Enum '${e}' needs to start with an uppercase letter.`);let t=a.ZU.Literal(e);return y(t,{anyOf:[{dataType:"constructor",title:e,index:0,fields:[]}]}),t},Nullable:function(e){return a.ZU.Unsafe({anyOf:[{title:"Some",description:"An optional value.",dataType:"constructor",index:0,fields:[e]},{title:"None",description:"Nothing.",dataType:"constructor",index:1,fields:[]}]})},to:function(e,t){let r=t?l(e,t):e;return(0,i.nj)((function e(t){try{if("bigint"==typeof t)return n.C.PlutusData.new_integer(n.C.BigInt.from_str(t.toString()));if("string"==typeof t)return n.C.PlutusData.new_bytes((0,i.aD)(t));if(t instanceof b){let{index:r,fields:s}=t,a=n.C.PlutusList.new();return s.forEach(t=>a.add(e(t))),n.C.PlutusData.new_constr_plutus_data(n.C.ConstrPlutusData.new(n.C.BigNum.from_str(r.toString()),a))}else if(t instanceof Array){let r=n.C.PlutusList.new();return t.forEach(t=>r.add(e(t))),n.C.PlutusData.new_list(r)}else if(t instanceof Map){let r=n.C.PlutusMap.new();for(let[s,a]of t.entries())r.insert(e(s),e(a));return n.C.PlutusData.new_map(r)}throw Error("Unsupported type")}catch(e){throw Error("Could not serialize the data: "+e)}})(r).to_bytes())},from:function(e,t){let r=function e(t){if(0===t.kind()){let r=t.as_constr_plutus_data(),s=r.data(),a=[];for(let t=0;t<s.len();t++)a.push(e(s.get(t)));return new b(parseInt(r.alternative().to_str()),a)}if(1===t.kind()){let r=t.as_map(),s=new Map,a=r.keys();for(let t=0;t<a.len();t++)s.set(e(a.get(t)),e(r.get(a.get(t))));return s}if(2===t.kind()){let r=t.as_list(),s=[];for(let t=0;t<r.len();t++)s.push(e(r.get(t)));return s}if(3===t.kind())return BigInt(t.as_integer().to_str());if(4===t.kind())return(0,i.nj)(t.as_bytes());throw Error("Unsupported type")}(n.C.PlutusData.from_bytes((0,i.aD)(e)));return t?u(r,t):r},fromJson:function(e){return function e(t){if("string"==typeof t)return t.startsWith("0x")?(0,i.nj)((0,i.aD)(t.slice(2))):(0,i.IK)(t);if("number"==typeof t)return BigInt(t);if("bigint"==typeof t)return t;if(t instanceof Array)return t.map(t=>e(t));if(t instanceof Object){let r=new Map;return Object.entries(t).forEach(([t,s])=>{r.set(e(t),e(s))}),r}throw Error("Unsupported type")}(e)},toJson:function(e){return function e(t){if("bigint"==typeof t||"number"==typeof t||"string"==typeof t&&!isNaN(parseInt(t))&&"n"===t.slice(-1)){let e="string"==typeof t?BigInt(t.slice(0,-1)):t;return parseInt(e.toString())}if("string"==typeof t)try{return new TextDecoder(void 0,{fatal:!0}).decode((0,i.aD)(t))}catch(e){return"0x"+(0,i.nj)((0,i.aD)(t))}if(t instanceof Array)return t.map(t=>e(t));if(t instanceof Map){let r={};return t.forEach((t,s)=>{let a=e(s);if("string"!=typeof a&&"number"!=typeof a)throw Error("Unsupported type (Note: Only bytes or integers can be keys of a JSON object)");r[a]=e(t)}),r}throw Error("Unsupported type (Note: Constructor cannot be converted to JSON)")}(e)},void:function(){return"d87980"},castFrom:u,castTo:l};function u(e,t){if(!t)throw Error("Could not type cast data.");switch((t.anyOf?"enum":"")||t.dataType){case"integer":if("bigint"!=typeof e)throw Error("Could not type cast to integer.");return c(e,t),e;case"bytes":if("string"!=typeof e)throw Error("Could not type cast to bytes.");return h(e,t),e;case"constructor":if(m(t)){if(!(e instanceof b)||0!==e.index||0!==e.fields.length)throw Error("Could not type cast to void.");return}if(e instanceof b&&e.index===t.index&&(t.hasConstr||void 0===t.hasConstr)){let r={};if(t.fields.length!==e.fields.length)throw Error("Could not type cast to object. Fields do not match.");return t.fields.forEach((t,s)=>{let a=t.title||"wrapper";if(/[A-Z]/.test(a[0]))throw Error("Could not type cast to object. Object properties need to start with a lowercase letter.");r[a]=u(e.fields[s],t)}),r}if(e instanceof Array&&!t.hasConstr&&void 0!==t.hasConstr){let r={};if(t.fields.length!==e.length)throw Error("Could not ype cast to object. Fields do not match.");return t.fields.forEach((t,s)=>{let a=t.title||"wrapper";if(/[A-Z]/.test(a[0]))throw Error("Could not type cast to object. Object properties need to start with a lowercase letter.");r[a]=u(e[s],t)}),r}throw Error("Could not type cast to object.");case"enum":{if(1===t.anyOf.length)return u(e,t.anyOf[0]);if(!(e instanceof b))throw Error("Could not type cast to enum.");let r=t.anyOf.find(t=>t.index===e.index);if(!r||r.fields.length!==e.fields.length)throw Error("Could not type cast to enum.");if(p(t)){if(0!==e.fields.length)throw Error("Could not type cast to boolean.");switch(e.index){case 0:return!1;case 1:return!0}throw Error("Could not type cast to boolean.")}if(g(t)){switch(e.index){case 0:if(1!==e.fields.length)break;return u(e.fields[0],t.anyOf[0].fields[0]);case 1:if(0!==e.fields.length)break;return null}throw Error("Could not type cast to nullable object.")}switch(r.dataType){case"constructor":if(0===r.fields.length){if(/[A-Z]/.test(r.title[0]))return r.title;break}{if(!/[A-Z]/.test(r.title))throw Error("Could not type cast to enum. Enums need to start with an uppercase letter.");if(r.fields.length!==e.fields.length)throw Error("Could not type cast to enum.");let t=r.fields[0].title?Object.fromEntries(r.fields.map((t,r)=>[t.title,u(e.fields[r],t)])):r.fields.map((t,r)=>u(e.fields[r],t));return{[r.title]:t}}}throw Error("Could not type cast to enum.")}case"list":if(t.items instanceof Array){if(e instanceof b&&0===e.index&&t.hasConstr)return e.fields.map((e,r)=>u(e,t.items[r]));if(e instanceof Array&&!t.hasConstr)return e.map((e,r)=>u(e,t.items[r]));throw Error("Could not type cast to tuple.")}if(!(e instanceof Array))throw Error("Could not type cast to array.");return d(e,t),e.map(e=>u(e,t.items));case"map":{if(!(e instanceof Map))throw Error("Could not type cast to map.");f(e,t);let r=new Map;for(let[s,a]of e.entries())r.set(u(s,t.keys),u(a,t.values));return r}case void 0:return e}throw Error("Could not type cast data.")}function l(e,t){if(!t)throw Error("Could not type cast struct.");switch((t.anyOf?"enum":"")||t.dataType){case"integer":if("bigint"!=typeof e)throw Error("Could not type cast to integer.");return c(e,t),e;case"bytes":if("string"!=typeof e)throw Error("Could not type cast to bytes.");return h(e,t),e;case"constructor":{if(m(t)){if(void 0!==e)throw Error("Could not type cast to void.");return new b(0,[])}if("object"!=typeof e||null===e||t.fields.length!==Object.keys(e).length)throw Error("Could not type cast to constructor.");let r=t.fields.map(t=>l(e[t.title||"wrapper"],t));return t.hasConstr||void 0===t.hasConstr?new b(t.index,r):r}case"enum":if(1===t.anyOf.length)return l(e,t.anyOf[0]);if(p(t)){if("boolean"!=typeof e)throw Error("Could not type cast to boolean.");return new b(+!!e,[])}if(g(t)){if(null===e)return new b(1,[]);{let r=t.anyOf[0].fields;if(1!==r.length)throw Error("Could not type cast to nullable object.");return new b(0,[l(e,r[0])])}}switch(typeof e){case"string":{if(!/[A-Z]/.test(e[0]))throw Error("Could not type cast to enum. Enum needs to start with an uppercase letter.");let r=t.anyOf.findIndex(t=>"constructor"===t.dataType&&0===t.fields.length&&t.title===e);if(-1===r)throw Error("Could not type cast to enum.");return new b(r,[])}case"object":{if(null===e)throw Error("Could not type cast to enum.");let r=Object.keys(e)[0];if(!/[A-Z]/.test(r))throw Error("Could not type cast to enum. Enum needs to start with an uppercase letter.");let s=t.anyOf.find(e=>"constructor"===e.dataType&&e.title===r);if(!s)throw Error("Could not type cast to enum.");let a=e[r];return new b(s.index,a instanceof Array?a.map((e,t)=>l(e,s.fields[t])):s.fields.map(e=>{let[t,r]=Object.entries(a).find(([t])=>t===e.title);return l(r,e)}))}}throw Error("Could not type cast to enum.");case"list":if(!(e instanceof Array))throw Error("Could not type cast to array/tuple.");if(!(t.items instanceof Array))return d(e,t),e.map(e=>l(e,t.items));{let r=e.map((e,r)=>l(e,t.items[r]));return t.hasConstr?new b(0,r):r}case"map":{if(!(e instanceof Map))throw Error("Could not type cast to map.");f(e,t);let r=new Map;for(let[s,a]of e.entries())r.set(l(s,t.keys),l(a,t.values));return r}case void 0:return e}throw Error("Could not type cast struct.")}function c(e,t){if(t.minimum&&e<BigInt(t.minimum))throw Error(`Integer ${e} is below the minimum ${t.minimum}.`);if(t.maximum&&e>BigInt(t.maximum))throw Error(`Integer ${e} is above the maxiumum ${t.maximum}.`);if(t.exclusiveMinimum&&e<=BigInt(t.exclusiveMinimum))throw Error(`Integer ${e} is below the exclusive minimum ${t.exclusiveMinimum}.`);if(t.exclusiveMaximum&&e>=BigInt(t.exclusiveMaximum))throw Error(`Integer ${e} is above the exclusive maximum ${t.exclusiveMaximum}.`)}function h(e,t){if(t.enum&&!t.enum.some(t=>t===e))throw Error(`None of the keywords match with '${e}'.`);if(t.minLength&&e.length/2<t.minLength)throw Error(`Bytes need to have a length of at least ${t.minLength} bytes.`);if(t.maxLength&&e.length/2>t.maxLength)throw Error(`Bytes can have a length of at most ${t.minLength} bytes.`)}function d(e,t){if(t.minItems&&e.length<t.minItems)throw Error(`Array needs to contain at least ${t.minItems} items.`);if(t.maxItems&&e.length>t.maxItems)throw Error(`Array can contain at most ${t.maxItems} items.`);if(t.uniqueItems&&new Set(e).size!==e.length)throw Error("Array constains duplicates.")}function f(e,t){if(t.minItems&&e.size<t.minItems)throw Error(`Map needs to contain at least ${t.minItems} items.`);if(t.maxItems&&e.size>t.maxItems)throw Error(`Map can contain at most ${t.maxItems} items.`)}function p(e){return e.anyOf&&e.anyOf[0]?.title==="False"&&e.anyOf[1]?.title==="True"}function m(e){return 0===e.index&&0===e.fields.length}function g(e){return e.anyOf&&e.anyOf[0]?.title==="Some"&&e.anyOf[1]?.title==="None"}function y(e,t){Object.keys(e).forEach(t=>{delete e[t]}),Object.assign(e,t)}s()}catch(e){s(e)}})}}]);